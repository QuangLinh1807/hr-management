{"remainingRequest":"/home/dlinh/Documents/hr-management/node_modules/babel-loader/lib/index.js!/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dlinh/Documents/hr-management/src/views/auth/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dlinh/Documents/hr-management/src/views/auth/Login.vue","mtime":1624240131095},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2RsaW5oL0RvY3VtZW50cy9oci1tYW5hZ2VtZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvZGxpbmgvRG9jdW1lbnRzL2hyLW1hbmFnZW1lbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBCYXNlSW5wdXQgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9CYXNlSW5wdXQvQmFzZUlucHV0LnZ1ZSI7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYXBpIGZyb20gIkAvYXBpL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCYXNlSW5wdXQ6IEJhc2VJbnB1dAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN1Ym1pdHRlZDogZmFsc2UsCiAgICAgIGZpZWxkRW1haWw6IHsKICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJFbWFpbCIsCiAgICAgICAgbmFtZTogImVtYWlsIiwKICAgICAgICBtb2RlbDogIiIsCiAgICAgICAgcnVsZXM6ICJyZXF1aXJlZHxlbWFpbCIsCiAgICAgICAgbW9kZTogImVhZ2VyIgogICAgICB9LAogICAgICBmaWVsZFBhc3N3b3JkOiB7CiAgICAgICAgdHlwZTogInBhc3N3b3JkIiwKICAgICAgICBwbGFjZWhvbGRlcjogIlBhc3N3b3JkIiwKICAgICAgICBuYW1lOiAicGFzc3dvcmQiLAogICAgICAgIG1vZGVsOiAiIiwKICAgICAgICBydWxlczogInJlcXVpcmVkIiwKICAgICAgICBtb2RlOiAiZWFnZXIiCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKCJjaGVjayIsIFsiaXNTaG93TWVzc2FnZUVtYWlsIl0pKSwgbWFwR2V0dGVycygiY2hlY2siLCBbImlzU2hvd01lc3NhZ2VTdWNjZXMiXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKCJsb2FkaW5nIiwgWyJTRVRfTE9BRElORyJdKSksIHt9LCB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzLCBnZXRBY2NvdW50SW5mbzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKCiAgICAgICAgICAgICAgICBfdGhpcy5TRVRfTE9BRElORyh0cnVlKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkoImxvZ2luQXBpIiwgewogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMuZmllbGRFbWFpbC5tb2RlbCwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLmZpZWxkUGFzc3dvcmQubW9kZWwKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIF90aGlzLlNFVF9MT0FESU5HKGZhbHNlKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXMuZGF0YS5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfdGhpcy5TRVRfTE9BRElORyhmYWxzZSk7CgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImp3dFRva2VuIiwgcmVzLmRhdGEuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpKCJnZXRBY2NvdW50SW5mbyIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgZ2V0QWNjb3VudEluZm8gPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoIlNFVF9QRVJTT05BTF9JTkZPIiwgZ2V0QWNjb3VudEluZm8uZGF0YS5kYXRhKTsKCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiYWNjb3VudElkIiwgZ2V0QWNjb3VudEluZm8uZGF0YS5kYXRhLmFjY291bnRJZCk7CgogICAgICAgICAgICAgICAgaWYgKGdldEFjY291bnRJbmZvLmRhdGEuZGF0YS5yb2xlID09PSAiUk9MRV9BRE1JTiIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkIik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJ1c2VyLXByb2ZpbGUiLAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgaWQ6IGdldEFjY291bnRJbmZvLmRhdGEuZGF0YS5hY2NvdW50SWQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICAgICBncm91cDogImZvbyIsCiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICJMb2dpbiBzdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE5OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgZ3JvdXA6ICJlcnIiLAogICAgICAgICAgICAgICAgICB0aXRsZTogIkVycm9yIiwKICAgICAgICAgICAgICAgICAgdGV4dDogX2NvbnRleHQudDAsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCAxOV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <!-- BEGIN: Login Form -->\n  <div class=\"container-login\">\n    <div class=\"form-login\">\n      <h2 class=\"form-title\">Sign In</h2>\n      <div\n        v-if=\"isShowMessageEmail\"\n        class=\"intro-x mt-2 text-gray-500 text-justify\"\n      >\n        The code has been sent to your email, please check your email to reset\n        your password\n      </div>\n      <div\n        v-if=\"isShowMessageSucces\"\n        class=\"intro-x mt-2 text-gray-500 text-justify\"\n      >\n        Change password successfully, please sign in to continue\n      </div>\n      <ValidationObserver v-slot=\"{ handleSubmit }\">\n        <form @submit.prevent=\"handleSubmit(submitForm)\">\n          <div class=\"intro-x mt-8\">\n            <base-input :inputField=\"fieldEmail\" v-model=\"fieldEmail.model\" />\n            <base-input\n              :inputField=\"fieldPassword\"\n              v-model=\"fieldPassword.model\"\n            />\n          </div>\n          <div\n            class=\"\n              intro-x\n              flex\n              text-gray-700\n              dark:text-gray-600\n              text-xs\n              sm:text-sm\n              mt-4\n              hover:text-primary-1\n            \"\n          >\n            <router-link to=\"/api/forgot-password\"\n              >Forgot password ?</router-link\n            >\n          </div>\n          <div class=\"intro-x mt-5 xl:mt-8 text-center xl:text-left\">\n            <button\n              class=\"btn btn-primary py-3 px-4 w-full xl:w-32 xl:mr-3 align-top\"\n              type=\"submit\"\n            >\n              Login\n            </button>\n          </div>\n        </form>\n      </ValidationObserver>\n    </div>\n  </div>\n  <!-- END: Login Form -->\n</template>\n\n<script>\nimport BaseInput from \"../../components/BaseInput/BaseInput.vue\";\nimport { mapGetters, mapMutations } from \"vuex\";\nimport api from \"@/api/api\";\nexport default {\n  components: {\n    BaseInput,\n  },\n  data() {\n    return {\n      submitted: false,\n      fieldEmail: {\n        type: \"text\",\n        placeholder: \"Email\",\n        name: \"email\",\n        model: \"\",\n        rules: \"required|email\",\n        mode: \"eager\",\n      },\n      fieldPassword: {\n        type: \"password\",\n        placeholder: \"Password\",\n        name: \"password\",\n        model: \"\",\n        rules: \"required\",\n        mode: \"eager\",\n      },\n    };\n  },\n  computed: {\n    ...mapGetters(\"check\", [\"isShowMessageEmail\"]),\n    ...mapGetters(\"check\", [\"isShowMessageSucces\"]),\n  },\n  methods: {\n    ...mapMutations(\"loading\", [\"SET_LOADING\"]),\n    async submitForm() {\n      try {\n        this.SET_LOADING(true);\n        const res = await api(\"loginApi\", {\n          email: this.fieldEmail.model,\n          password: this.fieldPassword.model,\n        });\n        this.SET_LOADING(false);\n        if (!res.success) {\n          throw new Error(res.data.response.data.message);\n        }\n        this.SET_LOADING(false);\n        localStorage.setItem(\"jwtToken\", res.data.data.token);\n        const getAccountInfo = await api(\"getAccountInfo\");\n        this.$store.commit(\"SET_PERSONAL_INFO\", getAccountInfo.data.data);\n        localStorage.setItem(\"accountId\", getAccountInfo.data.data.accountId);\n        if (getAccountInfo.data.data.role === \"ROLE_ADMIN\") {\n          this.$router.push(\"/dashboard\");\n        } else {\n          this.$router.push({\n            name: \"user-profile\",\n            params: { id: getAccountInfo.data.data.accountId },\n          });\n        }\n        this.$notify({\n          group: \"foo\",\n          title: \"Success\",\n          text: \"Login successfully\",\n          type: \"success\",\n        });\n      } catch (error) {\n        this.$notify({\n          group: \"err\",\n          title: \"Error\",\n          text: error,\n          type: \"error\",\n        });\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.container-login {\n  @apply h-screen xl:h-auto flex py-5 xl:py-0 my-10 xl:my-0;\n\n  .form-login {\n    @apply mb-auto mt-56 mx-auto bg-white dark:bg-dark-1  px-5  py-8 rounded-md w-3/4;\n\n    .form-title {\n      @apply font-bold text-2xl xl:text-3xl text-center xl:text-left;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/auth"}]}