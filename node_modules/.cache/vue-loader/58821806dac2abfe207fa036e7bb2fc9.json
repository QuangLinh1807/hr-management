{"remainingRequest":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dlinh/Documents/hr-management/src/components/Popup/PopupDelete.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dlinh/Documents/hr-management/src/components/Popup/PopupDelete.vue","mtime":1623900937153},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcE11dGF0aW9ucywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYXBpIGZyb20gIi4uLy4uL2FwaS9hcGkiOwppbXBvcnQgV2FybmluZyBmcm9tICIuLi9zdmcvV2FybmluZyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBXYXJuaW5nIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhcmFtc1JvdXRlcjogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICAvLyBhY2NJZDogbnVsbCwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycygicG9wdXBEZWxldGUiLCBbCiAgICAgICJzaG93RGVsZXRlIiwKICAgICAgInRpdGxlIiwKICAgICAgIm5hbWVEZXRhaWwiLAogICAgICAiaWREZWxldGUiLAogICAgICAiY2FzZURlbGV0ZSIsCiAgICAgICJzdWJJZERlbGV0ZSIsCiAgICAgICJhY2NvdW50SWQiLAogICAgXSksCiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiB7CiAgICAgIGhhbmRsZXI6IGFzeW5jIGZ1bmN0aW9uICh0bykgewogICAgICAgIHRoaXMuYWNjSWQgPSB0by5wYXJhbXMuaWQ7CiAgICAgIH0sCiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKCJwb3B1cERlbGV0ZSIsIFsiU0VUX0hJRERFTiJdKSwKICAgIC4uLm1hcE11dGF0aW9ucygibG9hZGluZyIsIFsiU0VUX0xPQURJTkciXSksCiAgICAuLi5tYXBNdXRhdGlvbnMoIm1hbmFnZW1lbnQiLCBbInRvZ2dsZUNhbGxBcGkiXSksCiAgICBhc3luYyBkZWxldGVUaW1lbGluZSgpIHsKICAgICAgc3dpdGNoICh0aGlzLmNhc2VEZWxldGUpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0aGlzLmRlbGV0ZUZ1bmN0aW9uKAogICAgICAgICAgICAiZGVsZXRlVGltZWxpbmVBcGkiLAogICAgICAgICAgICB7IGFjY291bnRJZDogdGhpcy5hY2NvdW50SWQsIHRpbWVsaW5lSWQ6IHRoaXMuaWREZWxldGUgfSwKICAgICAgICAgICAgInRpbWVsaW5lIgogICAgICAgICAgKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRoaXMuZGVsZXRlRnVuY3Rpb24oImRlbGV0ZUVtcGxveWVlIiwgdGhpcy5pZERlbGV0ZSwgInVzZXIiKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMzoKICAgICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlRnVuY3Rpb24oCiAgICAgICAgICAgICJkZWxldGVDYXRlZ29yaWVzIiwKICAgICAgICAgICAgeyBpZDogdGhpcy5pZERlbGV0ZSB9LAogICAgICAgICAgICAiY2F0ZWdvcnkiCiAgICAgICAgICApOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA0OgogICAgICAgICAgdGhpcy5kZWxldGVGdW5jdGlvbigKICAgICAgICAgICAgImRlbGV0ZUxpc3RTdWJDYXRlZ29yaWVzIiwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGlkOiB0aGlzLmlkRGVsZXRlLAogICAgICAgICAgICAgIGNhdGVnb3J5SWQ6IHRoaXMuc3ViSWREZWxldGUsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJzdWJjYXRlZ29yeSIKICAgICAgICAgICk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDU6CiAgICAgICAgICB0aGlzLmRlbGV0ZUZ1bmN0aW9uKAogICAgICAgICAgICAiZGVsZXRlRGV0YWlsU3ViQ2F0ZWdvcmllcyIsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBkZXRhaWxTdWJDYXRlZ29yeUlkOiB0aGlzLmlkRGVsZXRlLAogICAgICAgICAgICAgIHN1YkNhdGVnb3J5SWQ6IHRoaXMuc3ViSWREZWxldGUsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJkZXRhaWwgc3ViY2F0ZWdvcnkiCiAgICAgICAgICApOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA2OiB7CiAgICAgICAgICB0aGlzLmRlbGV0ZUZ1bmN0aW9uKCJkZWxldGVFbXBsb3llZUFwaSIsIHRoaXMuaWREZWxldGUsICJlbXBsb3llZSIpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGNhc2UgNzogewogICAgICAgICAgdGhpcy5kZWxldGVGdW5jdGlvbigKICAgICAgICAgICAgImRlbGV0ZUVkdWNhdGlvbkFwaSIsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBhY2NvdW50SWQ6IHRoaXMuYWNjb3VudElkLAogICAgICAgICAgICAgIGVkdWNhdGlvbklkOiB0aGlzLmlkRGVsZXRlLAogICAgICAgICAgICB9LAogICAgICAgICAgICAiRWR1Y2F0aW9uIgogICAgICAgICAgKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIDg6IHsKICAgICAgICAgIHRoaXMuZGVsZXRlRnVuY3Rpb24oCiAgICAgICAgICAgICJkZWxldGVDZXJ0aWZpY2F0ZUFwaSIsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBhY2NvdW50SWQ6IHRoaXMuYWNjb3VudElkLAogICAgICAgICAgICAgIGNlcnRpZmljYXRlSWQ6IHRoaXMuaWREZWxldGUsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJDZXJ0aWZpY2F0ZSIKICAgICAgICAgICk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkZWxldGVGdW5jdGlvbihuYW1lQXBpLCBwYXlsb2FkQXBpLCBtZXNzYWdlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5TRVRfTE9BRElORyh0cnVlKTsKICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhcGkobmFtZUFwaSwgcGF5bG9hZEFwaSk7CiAgICAgICAgdGhpcy5TRVRfTE9BRElORyhmYWxzZSk7CiAgICAgICAgaWYgKCFyZXN1bHQuc3VjY2VzcykgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfRkxBR19DSEFOR0UiLCB0cnVlKTsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQW4gZXJyb3Igb2NjdXJyZWQiKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5TRVRfTE9BRElORyhmYWxzZSk7CiAgICAgICAgdGhpcy5TRVRfSElEREVOKCk7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIGdyb3VwOiAiZm9vIiwKICAgICAgICAgIHRpdGxlOiAiU3VjY2VzcyIsCiAgICAgICAgICB0ZXh0OiBgU3VjY2Vzc2Z1bGx5IGRlbGV0ZSAke21lc3NhZ2V9YCwKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICB9KTsKICAgICAgICB0aGlzLnRvZ2dsZUNhbGxBcGkoKTsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZWR1Y2F0aW9uL2dldEVkdWNhdGlvbkFwaSIsIHsKICAgICAgICAgIGFjY291bnRJZDogdGhpcy5hY2NJZCwKICAgICAgICB9KTsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiY2VydGlmaWNhdGUvZ2V0Q2VydGlmaWNhdGVBcGkiLCB7CiAgICAgICAgICBhY2NvdW50SWQ6IHRoaXMuYWNjSWQsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfRkxBR19DSEFOR0UiLCB0cnVlKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgZ3JvdXA6ICJmb28iLAogICAgICAgICAgdGl0bGU6ICJlcnJvciIsCiAgICAgICAgICB0ZXh0OiBgJHtlcnJvcn1gLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBjYW5jZWxEZWxldGUoKSB7CiAgICAgIHRoaXMuU0VUX0hJRERFTigpOwogICAgICB0aGlzLlNFVF9MT0FESU5HKGZhbHNlKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["PopupDelete.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PopupDelete.vue","sourceRoot":"src/components/Popup","sourcesContent":["<template>\n  <div\n    class=\"popup-delete\"\n    aria-labelledby=\"modal-title\"\n    role=\"dialog\"\n    aria-modal=\"false\"\n    v-if=\"showDelete\"\n  >\n    <div class=\"popup-delete-content\">\n      <div class=\"popup-delete-hidden\" aria-hidden=\"true\"></div>\n      <span class=\"popup-delete-hidden-color\" aria-hidden=\"true\">&#8203;</span>\n      <div class=\"popup-delete-form\">\n        <div class=\"popup-delete-form-cover\">\n          <div class=\"popup-delete-top\">\n            <div class=\"popup-svg\">\n              <Warning />\n            </div>\n            <div class=\"popup-text-center\">\n              <h3 class=\"popup-text-top\" id=\"modal-title\">\n                Delete {{ title }}\n              </h3>\n              <div class=\"popup-confirm\">\n                <p class=\"confirm-top\">\n                  Are you sure you want to delete\n                  <span class=\"confirm-span\">{{ nameDetail }}</span> in\n                  <span class=\"confirm-span\">{{ title }}</span> ? All of your\n                  data will be permanently removed. This action cannot be\n                  undone.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"popup-delete-bottom\">\n          <button @click=\"deleteTimeline\" type=\"button\" class=\"button-delete\">\n            Delete\n          </button>\n          <button\n            @click.stop=\"cancelDelete\"\n            type=\"button\"\n            class=\"button-cancel\"\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapGetters, mapMutations, mapActions } from \"vuex\";\nimport api from \"../../api/api\";\nimport Warning from \"../svg/Warning\";\n\nexport default {\n  components: { Warning },\n  data() {\n    return {\n      paramsRouter: this.$route.params.id,\n      // accId: null,\n    };\n  },\n  computed: {\n    ...mapGetters(\"popupDelete\", [\n      \"showDelete\",\n      \"title\",\n      \"nameDetail\",\n      \"idDelete\",\n      \"caseDelete\",\n      \"subIdDelete\",\n      \"accountId\",\n    ]),\n  },\n  watch: {\n    $route: {\n      handler: async function (to) {\n        this.accId = to.params.id;\n      },\n    },\n  },\n  methods: {\n    ...mapMutations(\"popupDelete\", [\"SET_HIDDEN\"]),\n    ...mapMutations(\"loading\", [\"SET_LOADING\"]),\n    ...mapMutations(\"management\", [\"toggleCallApi\"]),\n    async deleteTimeline() {\n      switch (this.caseDelete) {\n        case 1:\n          this.deleteFunction(\n            \"deleteTimelineApi\",\n            { accountId: this.accountId, timelineId: this.idDelete },\n            \"timeline\"\n          );\n          break;\n        case 2:\n          this.deleteFunction(\"deleteEmployee\", this.idDelete, \"user\");\n          break;\n        case 3:\n          await this.deleteFunction(\n            \"deleteCategories\",\n            { id: this.idDelete },\n            \"category\"\n          );\n          break;\n        case 4:\n          this.deleteFunction(\n            \"deleteListSubCategories\",\n            {\n              id: this.idDelete,\n              categoryId: this.subIdDelete,\n            },\n            \"subcategory\"\n          );\n          break;\n        case 5:\n          this.deleteFunction(\n            \"deleteDetailSubCategories\",\n            {\n              detailSubCategoryId: this.idDelete,\n              subCategoryId: this.subIdDelete,\n            },\n            \"detail subcategory\"\n          );\n          break;\n        case 6: {\n          this.deleteFunction(\"deleteEmployeeApi\", this.idDelete, \"employee\");\n          break;\n        }\n        case 7: {\n          this.deleteFunction(\n            \"deleteEducationApi\",\n            {\n              accountId: this.accountId,\n              educationId: this.idDelete,\n            },\n            \"Education\"\n          );\n          break;\n        }\n        case 8: {\n          this.deleteFunction(\n            \"deleteCertificateApi\",\n            {\n              accountId: this.accountId,\n              certificateId: this.idDelete,\n            },\n            \"Certificate\"\n          );\n          break;\n        }\n      }\n    },\n    async deleteFunction(nameApi, payloadApi, message) {\n      try {\n        this.SET_LOADING(true);\n        const result = await api(nameApi, payloadApi);\n        this.SET_LOADING(false);\n        if (!result.success) {\n          this.$store.commit(\"SET_FLAG_CHANGE\", true);\n          throw new Error(\"An error occurred\");\n        }\n        this.SET_LOADING(false);\n        this.SET_HIDDEN();\n        this.$notify({\n          group: \"foo\",\n          title: \"Success\",\n          text: `Successfully delete ${message}`,\n          type: \"success\",\n        });\n        this.toggleCallApi();\n        await this.$store.dispatch(\"education/getEducationApi\", {\n          accountId: this.accId,\n        });\n        await this.$store.dispatch(\"certificate/getCertificateApi\", {\n          accountId: this.accId,\n        });\n        this.$store.commit(\"SET_FLAG_CHANGE\", true);\n      } catch (error) {\n        this.$notify({\n          group: \"foo\",\n          title: \"error\",\n          text: `${error}`,\n          type: \"error\",\n        });\n        console.log(error);\n      }\n    },\n    cancelDelete() {\n      this.SET_HIDDEN();\n      this.SET_LOADING(false);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.popup-delete {\n  @apply fixed z-10 inset-0 overflow-y-auto;\n  .popup-delete-content {\n    @apply flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0;\n    .popup-delete-hidden {\n      @apply fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity;\n    }\n    .popup-delete-hidden-color {\n      @apply hidden sm:inline-block sm:align-middle sm:h-screen;\n    }\n    .popup-delete-form {\n      @apply inline-block\n      align-bottom\n      bg-white\n      rounded-lg\n      text-left\n      overflow-hidden\n      shadow-xl\n      transform\n      transition-all\n      sm:my-8\n      sm:align-middle\n      sm:max-w-lg\n      sm:w-full;\n      .popup-delete-form-cover {\n        @apply bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4;\n        .popup-delete-top {\n          @apply sm:flex sm:items-start;\n          .popup-svg {\n            @apply mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10;\n          }\n          .popup-text-center {\n            @apply mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left;\n            .popup-text-top {\n              @apply text-lg leading-6 font-medium text-gray-900;\n            }\n            .popup-confirm {\n              @apply mt-2;\n              .confirm-top {\n                @apply text-sm text-gray-500;\n                .confirm-span {\n                  @apply text-red-600;\n                }\n              }\n            }\n          }\n        }\n      }\n      .popup-delete-bottom {\n        @apply bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse;\n        .button-delete {\n          @apply w-full\n          inline-flex\n          justify-center\n          rounded-md\n          border border-transparent\n          shadow-sm\n          px-4\n          py-2\n          bg-red-600\n          text-base\n          font-medium\n          text-white\n          hover:bg-red-700\n          focus:outline-none\n          focus:ring-2 focus:ring-offset-2 focus:ring-red-500\n          sm:ml-3\n          sm:w-auto\n          sm:text-sm;\n        }\n        .button-cancel {\n          @apply mt-3\n          w-full\n          inline-flex\n          justify-center\n          rounded-md\n          border border-gray-300\n          shadow-sm\n          px-4\n          py-2\n          bg-white\n          text-base\n          font-medium\n          text-gray-700\n          hover:bg-gray-50\n          focus:outline-none\n          focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\n          sm:mt-0\n          sm:ml-3\n          sm:w-auto\n          sm:text-sm;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}