{"remainingRequest":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dlinh/Documents/hr-management/src/views/user-profile/SkillSet.vue?vue&type=style&index=0&id=17deb5af&lang=scss&scoped=true&","dependencies":[{"path":"/home/dlinh/Documents/hr-management/src/views/user-profile/SkillSet.vue","mtime":1623749289480},{"path":"/home/dlinh/Documents/hr-management/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnNraWxsc2V0IHsKICBAYXBwbHkgdy1mdWxsIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyOwp9Ci5ib3gtdG9wIHsKICBAYXBwbHkgbWItNiB3LWZ1bGwgZmxleCBqdXN0aWZ5LWVuZCBpdGVtcy1jZW50ZXI7Cn0KLmJveC1kaXNwbGF5IHsKICBAYXBwbHkgbXItNCBwLTIgYmctZ3JheS0zMDAgcm91bmRlZC1tZCBob3ZlcjpiZy1ncmF5LTUwMCBjdXJzb3ItcG9pbnRlcjsKfQouYm94LWlucHV0IHsKICBAYXBwbHkgcm91bmRlZC0yeGwgYmctYmx1ZS0xMDAgcHgtMiBoLTEwIGZsZXggaXRlbXMtY2VudGVyIG1yLTQ7Cn0KCi5idG4tYWN0aW9uIHsKICBAYXBwbHkgZmxleCBpdGVtcy1jZW50ZXIgcC0yIHRyYW5zaXRpb24gZHVyYXRpb24tMzAwIGVhc2UtaW4tb3V0IGJnLXdoaXRlIGhvdmVyOmJnLWdyYXktMjAwIHJvdW5kZWQtbWQ7Cn0KCi5jdXN0b20tY2xhc3MgewogIEBhcHBseSB0ZXh0LTN4bCBjdXJzb3ItcG9pbnRlciByb3VuZGVkLXNtOwp9Cg=="},{"version":3,"sources":["SkillSet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"SkillSet.vue","sourceRoot":"src/views/user-profile","sourcesContent":["<template>\n  <div class=\"skillset\">\n    <div class=\"box-top\">\n      <div class=\"box-show\">\n        <button\n          class=\"btn mr-4 hover:bg-gray-300 transition-all\"\n          @click=\"isShowAll ? showAll(false) : showAll(true)\"\n          v-if=\"!isToggle\"\n        >\n          {{ isShowAll ? \"Show less\" : \"Show All\" }}\n        </button>\n      </div>\n      <div class=\"box-display\">\n        <list-icon\n          class=\"custom-class\"\n          @click=\"toggleDisplay\"\n          v-if=\"isToggle\"\n        ></list-icon>\n        <grid-icon\n          class=\"custom-class\"\n          @click=\"toggleDisplay\"\n          v-if=\"!isToggle\"\n        ></grid-icon>\n      </div>\n      <div class=\"box-input\">\n        <input\n          type=\"text\"\n          class=\"border-none outline-none bg-blue-100\"\n          placeholder=\"Search...\"\n          v-model.trim=\"search\"\n          @keyup.enter=\"searchData\"\n          @focus=\"focusInput\"\n        />\n        <SearchIcon class=\"custom-class\" @click=\"searchData\"></SearchIcon>\n      </div>\n      <div class=\"dropdown mr-2\">\n        <button\n          class=\"\n            dropdown-toggle\n            btn\n            box\n            text-gray-700\n            dark:text-gray-300\n            flex\n            items-center\n          \"\n          aria-expanded=\"false\"\n        >\n          Export To CV <ChevronDownIcon class=\"w-4 h-4 ml-2\" />\n        </button>\n        <div class=\"dropdown-menu w-40\">\n          <div class=\"dropdown-menu__content box dark:bg-dark-1 p-2\">\n            <button\n              class=\"btn-action\"\n              data-dismiss=\"dropdown\"\n              @click=\"exportProfileSkill('excel')\"\n              :disabled=\"isLoading\"\n            >\n              <FileTextIcon class=\"hidden sm:block w-4 h-4 mr-2\" />\n              Export to Excel\n            </button>\n            <button\n              class=\"btn-action\"\n              @click=\"exportProfileSkill('pdf')\"\n              :disabled=\"isLoading\"\n              data-dismiss=\"dropdown\"\n            >\n              <FileTextIcon class=\"hidden sm:block w-4 h-4 mr-2\" />\n              Export to PDF\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      v-if=\"listCategories && listCategories.length === 0 && !isLoading\"\n      class=\"text-center opacity-60 mt-16\"\n    >\n      <img\n        alt=\"Icewall Tailwind HTML Admin Template\"\n        class=\"h-40 m-auto mb-4\"\n        :src=\"require(`@/assets/images/error-illustration.svg`)\"\n      />No information yet\n    </div>\n    <div class=\"w-full\" v-if=\"!isToggle\">\n      <Accordion\n        v-for=\"category of listCategories\"\n        :key=\"category.id\"\n        :category=\"category\"\n        class=\"mb-4\"\n        @update-skillset=\"updateSubCategory\"\n      >\n      </Accordion>\n    </div>\n    <div v-if=\"isToggle\" class=\"w-full\">\n      <masonry\n        :cols=\"{ default: 3, 1280: 2, 1024: 2, 768: 2, 640: 1 }\"\n        :gutter=\"{ default: '15px', 700: '10px' }\"\n      >\n        <Category\n          v-for=\"category of listCategories\"\n          :key=\"category.id\"\n          :category=\"category\"\n          @update-skillset=\"updateSubCategory\"\n        ></Category>\n      </masonry>\n    </div>\n  </div>\n</template>\n\n<script>\nimport apiD from \"@/api/api-download\";\nimport api from \"@/api/api\";\nimport Accordion from \"@/components/Accordion/Accordion\";\nimport Category from \"../../components/CardSkillSet/Category.vue\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  components: {\n    Accordion,\n    Category,\n  },\n  async created() {\n    await this.getSkillSetFromApi();\n  },\n  data() {\n    return {\n      isToggle: false,\n      isShowAll: true,\n      listCategory: [],\n      listCategories: [],\n      search: null,\n      paramsId: this.$route.params.id,\n    };\n  },\n  computed: {\n    ...mapGetters(\"overview\", [\"getPersonalProfile\"]),\n    ...mapGetters(\"loading\", { isLoading: \"loading\" }),\n  },\n  methods: {\n    toggleDisplay() {\n      this.isToggle = !this.isToggle;\n      this.listCategories = JSON.parse(JSON.stringify(this.listCategory));\n      this.showAll(false);\n    },\n    showAll(value) {\n      this.isShowAll = value;\n      this.listCategories = this.listCategories.map((category) => {\n        return { ...category, status: value };\n      });\n    },\n    focusInput() {\n      this.search = null;\n    },\n    async searchData() {\n      await this.getSkillSetFromApi(this.search);\n    },\n    async getSkillSetFromApi(searchQuery = null) {\n      try {\n        this.$store.commit(\"loading/SET_LOADING\", true);\n        const res = await api(\"getProfileSkillSet\", {\n          searchQuery,\n          accountId: this.paramsId,\n        });\n        if (!res.success) {\n          this.$store.commit(\"loading/SET_LOADING\", false);\n          throw new Error(\"An error occured.\");\n        }\n\n        const resData = res.data.data.map((category) => {\n          return { status: true, ...category };\n        });\n        this.$store.commit(\"loading/SET_LOADING\", false);\n        this.listCategory = JSON.parse(JSON.stringify(resData));\n        this.listCategories = JSON.parse(JSON.stringify(resData));\n      } catch (error) {\n        this.$notify({\n          group: \"foo\",\n          title: \"error\",\n          text: `${error}`,\n          type: \"error\",\n        });\n      }\n    },\n    async updateSubCategory() {\n      await this.getSkillSetFromApi();\n    },\n    async exportProfileSkill(type_export) {\n      try {\n        const res = await apiD(\"exportProfileUser\", {\n          type_export,\n          accountId: this.paramsId,\n        });\n        if (!res.success) {\n          throw new Error(\"An error occurred\");\n        }\n        const url = window.URL.createObjectURL(new Blob([res.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\n          \"download\",\n          `${this.getPersonalProfile.fullname}.${\n            type_export == \"pdf\" ? \"pdf\" : \"xlsx\"\n          }`\n        );\n        document.body.appendChild(link);\n        link.click();\n        URL.revokeObjectURL(url);\n      } catch (error) {\n        this.$notify({\n          group: \"foo\",\n          title: \"error\",\n          text: `${error}`,\n          type: \"error\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.skillset {\n  @apply w-full flex flex-col items-center;\n}\n.box-top {\n  @apply mb-6 w-full flex justify-end items-center;\n}\n.box-display {\n  @apply mr-4 p-2 bg-gray-300 rounded-md hover:bg-gray-500 cursor-pointer;\n}\n.box-input {\n  @apply rounded-2xl bg-blue-100 px-2 h-10 flex items-center mr-4;\n}\n\n.btn-action {\n  @apply flex items-center p-2 transition duration-300 ease-in-out bg-white hover:bg-gray-200 rounded-md;\n}\n\n.custom-class {\n  @apply text-3xl cursor-pointer rounded-sm;\n}\n</style>\n"]}]}