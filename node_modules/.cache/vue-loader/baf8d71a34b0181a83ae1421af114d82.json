{"remainingRequest":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dlinh/Documents/hr-management/src/views/auth/ChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dlinh/Documents/hr-management/src/views/auth/ChangePassword.vue","mtime":1624240099955},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYXNlSW5wdXQgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9CYXNlSW5wdXQvQmFzZUlucHV0LnZ1ZSI7CmltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYXBpIGZyb20gIkAvYXBpL2FwaSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCYXNlSW5wdXQsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgZmllbGROZXdQYXNzd29yZDogewogICAgICAgIHR5cGU6ICJwYXNzd29yZCIsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJOZXcgUGFzc3dvcmQiLAogICAgICAgIG5hbWU6ICJuZXcgcGFzc3dvcmQiLAogICAgICAgIG1vZGVsOiAiIiwKICAgICAgICBydWxlczogInJlcXVpcmVkfG1pbjo2IiwKICAgICAgfSwKICAgICAgZmllbGRDb25maXJtUGFzc3dvcmQ6IHsKICAgICAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgICAgIHBsYWNlaG9sZGVyOiAiQ29uZmlybSBQYXNzd29yZCIsCiAgICAgICAgbmFtZTogImNvbmZpcm0gcGFzc3dvcmQiLAogICAgICAgIG1vZGVsOiAiIiwKICAgICAgICBydWxlczogInJlcXVpcmVkfG1pbjo2IiwKICAgICAgfSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoImNoZWNrIiwgWyJTRVRfSVNfU0hPV19NRVNTQUdFX1NVQ0NFUyJdKSwKICAgIGFzeW5jIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKAogICAgICAgICAgISh0aGlzLmZpZWxkTmV3UGFzc3dvcmQubW9kZWwgPT09IHRoaXMuZmllbGRDb25maXJtUGFzc3dvcmQubW9kZWwpCiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICBncm91cDogImVyciIsCiAgICAgICAgICAgIHRpdGxlOiAiRXJyb3IiLAogICAgICAgICAgICB0ZXh0OiAiTmV3IHBhc3N3b3JkIGlzIG5vdCBkdXBsaWNhdGUgd2l0aCBjb25maXJtIHBhc3N3b3JkIiwKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkoImNvbmZpcm1QYXNzd29yZEFwaSIsIHsKICAgICAgICAgIG5ld1Bhc3N3b3JkOiB0aGlzLmZpZWxkTmV3UGFzc3dvcmQubW9kZWwsCiAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6IHRoaXMuZmllbGRDb25maXJtUGFzc3dvcmQubW9kZWwsCiAgICAgICAgICB0b2tlbjogdGhpcy4kcm91dGUucGFyYW1zLnRva2VuLAogICAgICAgIH0pOwogICAgICAgIGlmICghcmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXMuZGF0YS5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgICB0aGlzLlNFVF9JU19TSE9XX01FU1NBR0VfU1VDQ0VTKHRydWUpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAvLyB0aGlzLiRub3RpZnkoewogICAgICAgIC8vICAgZ3JvdXA6ICJlcnIiLAogICAgICAgIC8vICAgdGl0bGU6ICJFcnJvciIsCiAgICAgICAgLy8gICB0ZXh0OiBlcnJvciwKICAgICAgICAvLyAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgLy8gfSk7CiAgICAgIH0KICAgIH0sCiAgICBiYWNrVG9Mb2dpbigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChangePassword.vue","sourceRoot":"src/views/auth","sourcesContent":["<template>\n  <!-- BEGIN: Login Form -->\n  <div class=\"container-login\">\n    <div class=\"form-login\">\n      <h2 class=\"form-title\">Reset Password</h2>\n\n      <ValidationObserver v-slot=\"{ handleSubmit }\">\n        <form @submit.prevent=\"handleSubmit(submitForm)\">\n          <div class=\"intro-x mt-8\">\n            <base-input\n              :inputField=\"fieldNewPassword\"\n              v-model=\"fieldNewPassword.model\"\n            />\n            <base-input\n              :inputField=\"fieldConfirmPassword\"\n              v-model=\"fieldConfirmPassword.model\"\n            />\n          </div>\n          <div v-if=\"submitted\" class=\"intro-x mt-2 text-red-500\">\n            New password is different from new confirm password\n          </div>\n          <div class=\"intro-x mt-5 xl:mt-8 text-center xl:text-left\">\n            <button\n              class=\"\n                btn btn-outline-secondary\n                py-3\n                px-4\n                w-full\n                xl:w-40\n                mt-3\n                xl:mt-0\n                align-top\n                xl:mr-3\n              \"\n              @click.prevent=\"backToLogin\"\n            >\n              <arrow-left-icon\n                size=\"1.5x\"\n                class=\"custom-class mr-2\"\n              ></arrow-left-icon>\n              Back to Login\n            </button>\n            <button\n              class=\"btn btn-primary py-3 px-4 w-full xl:w-32 align-top\"\n              type=\"submit\"\n            >\n              Submit\n            </button>\n          </div>\n        </form>\n      </ValidationObserver>\n    </div>\n  </div>\n  <!-- END: Login Form -->\n</template>\n\n<script>\nimport BaseInput from \"../../components/BaseInput/BaseInput.vue\";\nimport { mapMutations } from \"vuex\";\nimport api from \"@/api/api\";\nexport default {\n  components: {\n    BaseInput,\n  },\n  data() {\n    return {\n      submitted: false,\n      fieldNewPassword: {\n        type: \"password\",\n        placeholder: \"New Password\",\n        name: \"new password\",\n        model: \"\",\n        rules: \"required|min:6\",\n      },\n      fieldConfirmPassword: {\n        type: \"password\",\n        placeholder: \"Confirm Password\",\n        name: \"confirm password\",\n        model: \"\",\n        rules: \"required|min:6\",\n      },\n    };\n  },\n  methods: {\n    ...mapMutations(\"check\", [\"SET_IS_SHOW_MESSAGE_SUCCES\"]),\n    async submitForm() {\n      try {\n        if (\n          !(this.fieldNewPassword.model === this.fieldConfirmPassword.model)\n        ) {\n          this.$notify({\n            group: \"err\",\n            title: \"Error\",\n            text: \"New password is not duplicate with confirm password\",\n            type: \"error\",\n          });\n        }\n        const res = await api(\"confirmPasswordApi\", {\n          newPassword: this.fieldNewPassword.model,\n          confirmPassword: this.fieldConfirmPassword.model,\n          token: this.$route.params.token,\n        });\n        if (!res.success) {\n          throw new Error(res.data.response.data.message);\n        }\n        this.SET_IS_SHOW_MESSAGE_SUCCES(true);\n        this.$router.push(\"/login\");\n      } catch (error) {\n        // this.$notify({\n        //   group: \"err\",\n        //   title: \"Error\",\n        //   text: error,\n        //   type: \"error\",\n        // });\n      }\n    },\n    backToLogin() {\n      this.$router.push(\"/login\");\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.container-login {\n  @apply h-screen xl:h-auto flex py-5 xl:py-0 my-10 xl:my-0;\n\n  .form-login {\n    @apply mb-auto mt-56 mx-auto bg-white dark:bg-dark-1  px-5  py-8 rounded-md w-3/4;\n\n    .form-title {\n      @apply font-bold text-2xl xl:text-3xl text-center xl:text-left;\n    }\n  }\n}\n</style>\n"]}]}