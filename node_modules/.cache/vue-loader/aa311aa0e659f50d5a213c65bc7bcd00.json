{"remainingRequest":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dlinh/Documents/hr-management/src/views/people/People.vue?vue&type=style&index=0&id=59dff705&lang=scss&scoped=true&","dependencies":[{"path":"/home/dlinh/Documents/hr-management/src/views/people/People.vue","mtime":1624240131095},{"path":"/home/dlinh/Documents/hr-management/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmhlYWRlci1zZWN0aW9uIHsKICBAYXBwbHkgdy1mdWxsIHB4LTIgbXQtMjsKCiAgLnRpdGxlLXNlY3Rpb24gewogICAgQGFwcGx5IGJvcmRlci1iLTIgYm9yZGVyLXByaW1hcnktMSBwdC00IHBiLTM7CgogICAgaDEgewogICAgICBAYXBwbHkgdGV4dC0zeGwgZm9udC1tZWRpdW0gbXItYXV0byB0ZXh0LXByaW1hcnktMTsKICAgIH0KICB9Cn0KCi5ib3gtZGlzcGxheSB7CiAgQGFwcGx5IG1yLTQgcHgtMiBweS0xIGJnLWdyYXktMzAwIHJvdW5kZWQtbWQgYm94LWJvcmRlcjsKfQoKLmN1c3RvbS1jbGFzcyB7CiAgQGFwcGx5IGN1cnNvci1wb2ludGVyOwogICY6Zmlyc3QtY2hpbGQgewogICAgQGFwcGx5IG1yLTI7CiAgfQogIEBhcHBseSBoLWZ1bGwgYm94LWNvbnRlbnQgcC0xIGhvdmVyOmJnLXdoaXRlIHRleHQtYmxhY2sgcm91bmRlZC1tZDsKfQoKLmFjdGl2ZSB7CiAgQGFwcGx5IGJnLXdoaXRlOwp9Cgouc2VhcmNoLWljb24gewogIEBhcHBseSB3LTQgaC00IGFic29sdXRlIG15LWF1dG8gaW5zZXQteS0wIG1sLTMgbGVmdC0wIHotMTAgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDA7Cn0KCi5maWx0ZXItY29udGFpbmVyIHsKICBAYXBwbHkgYWJzb2x1dGUgYm9yZGVyLWdyYXktNTAwIGJvcmRlci1sIHBsLTIgaW5zZXQteS0wIG1yLTMgcmlnaHQtMCBmbGV4IGl0ZW1zLWNlbnRlcjsKfQoKLmZpbHRlci1pY29uIHsKICBAYXBwbHkgdy01IGgtNSB0ZXh0LWJsYWNrIGN1cnNvci1wb2ludGVyIGRhcms6dGV4dC1ncmF5LTMwMDsKfQoKLmRyb3Bkb3duLW1lbnUgewogIHRvcDogLTAuOXJlbSAhaW1wb3J0YW50OwogIGxlZnQ6IDAuOXJlbSAhaW1wb3J0YW50Owp9CgouYnRuLWV4cG9ydCB7CiAgQGFwcGx5IGhvdmVyOmJnLWJsdWUtOTAwIHRleHQtcHJpbWFyeS0xOwp9Ci5wZW9wbGUtY29udGFpbmVyIHsKICBAYXBwbHkgZ3JpZCBteC1hdXRvIHctZnVsbCBncmlkLWNvbHMtNSBnYXAtNjsKfQoKLmJveC10b29scyB7CiAgQGFwcGx5IGZsb2F0LXJpZ2h0IG1iLTEyIGZsZXggaXRlbXMtY2VudGVyOwp9CgoudGV4dC1maWx0ZXIgewogIGJveC1zaGFkb3c6IDFweCAycHggMTBweCByZ2JhKCRjb2xvcjogIzJlMmUyZSwgJGFscGhhOiAwLjE1KTsKICBAYXBwbHkgdy1mdWxsIHNtOnctZnVsbCBweC0xMCB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBwbGFjZWhvbGRlci10aGVtZS04Owp9CgouYm94LWZpbHRlciB7CiAgQGFwcGx5IHctZnVsbCBzbTp3LTIvNyByZWxhdGl2ZSBtci1hdXRvIG10LTMgc206bXQtMCBmbGV4IGp1c3RpZnktY2VudGVyIG14LWF1dG87Cn0KCi5jb250YWluZXItc2VjdGlvbiB7CiAgQGFwcGx5IGZsZXggZmxleC1jb2wtcmV2ZXJzZSBzbTpmbGV4LXJvdyBpdGVtcy1jZW50ZXIgbXQtNiBtYi00Owp9CgouYnRuLWRlbGV0ZSB7CiAgQGFwcGx5IHRleHQtcmVkLTQwMCBtci00IGJnLWdyYXktMzAwOwp9CgoudGFibGUtcGVvcGxlIHsKICBAYXBwbHkgbXQtNjsKfQo="},{"version":3,"sources":["People.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4MA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"People.vue","sourceRoot":"src/views/people","sourcesContent":["<template>\n  <div class=\"\">\n    <div class=\"header-section\">\n      <div class=\"title-section flex\">\n        <h1>People</h1>\n      </div>\n      <div class=\"container-section\">\n        <div class=\"box-filter\">\n          <SearchIcon class=\"search-icon\" />\n          <input\n            type=\"text\"\n            class=\"form-control box text-filter\"\n            placeholder=\"Search files\"\n            v-model=\"keyword\"\n            @keyup.enter=\"handleSearch\"\n          />\n          <div\n            class=\"inbox-filter dropdown filter-container\"\n            data-placement=\"right-start\"\n          >\n            <FilterIcon class=\"dropdown-toggle filter-icon\" role=\"button\" />\n            <div class=\"inbox-filter__dropdown-menu dropdown-menu\">\n              <div class=\"dropdown-menu__content box p-5\">\n                <div>Name</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"box-tools\">\n        <button\n          class=\"btn btn-delete\"\n          v-if=\"!isToggle && selected.length > 0\"\n          @click=\"deleteUsers\"\n        >\n          <Trash2Icon size=\"1.5x\" class=\"mr-1\"></Trash2Icon>\n          Delete\n        </button>\n        <button\n          class=\"\n            dropdown-toggle\n            btn\n            px-2\n            box\n            text-gray-700\n            dark:text-gray-300\n            mr-5\n          \"\n          aria-expanded=\"false\"\n          @click=\"openAddUser\"\n        >\n          <span class=\"w-5 h-5 flex items-center justify-center\">\n            <PlusIcon class=\"w-4 h-4\" />\n          </span>\n        </button>\n        <div class=\"box-display\">\n          <GridIcon\n            class=\"custom-class\"\n            :class=\"{ active: isToggle }\"\n            @click=\"toggleDisplay\"\n          ></GridIcon>\n          <ListIcon\n            class=\"custom-class\"\n            :class=\"{ active: !isToggle }\"\n            @click=\"toggleDisplay\"\n          ></ListIcon>\n        </div>\n        <button class=\"btn bg-blue-800 btn-export\">\n          <span>\n            <Download />\n          </span>\n          <span class=\"text-white ml-3\"> Export All </span>\n        </button>\n      </div>\n    </div>\n    <div class=\"people-container\" v-if=\"isToggle\">\n      <CardPeople\n        v-for=\"employee of employeeData\"\n        :key=\"employee.accountId\"\n        :user=\"employee\"\n      ></CardPeople>\n    </div>\n    <div class=\"table-people\" v-if=\"!isToggle\">\n      <TablePeople\n        :employeeData=\"employeeData\"\n        @change-select=\"selectedItem\"\n      ></TablePeople>\n    </div>\n\n    <div class=\"float-right mt-6\">\n      <Pagination\n        :currentPage=\"currentPage\"\n        :maxVisibleButtons=\"4\"\n        :totalPages=\"totalPage\"\n        @pagechanged=\"onPageChange\"\n      ></Pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapMutations } from \"vuex\";\nimport Pagination from \"../../components/Pagination/Pagination.vue\";\nimport CardPeople from \"../../components/CardPeople/CardPeople.vue\";\nimport TablePeople from \"../../components/TablePeople/TablePeople.vue\";\nimport api from \"../../api/api\";\nimport Download from \"../../components/svg/Download\";\n\nexport default {\n  components: {\n    Download,\n    CardPeople,\n    Pagination,\n    TablePeople,\n  },\n  data() {\n    return {\n      isToggle: true,\n      keyword: \"\",\n      currentPage: 1,\n      totalPage: 0,\n      selected: [],\n      employeeData: [],\n    };\n  },\n  computed: {\n    ...mapGetters([\"flagChange\", \"personalInfo\"]),\n  },\n  async created() {\n    await this.getEmployeeFromApi(1, this.keyword);\n  },\n  methods: {\n    ...mapMutations(\"popupAddUser\", [\"SET_IS_SHOW_ADD\", \"SET_TITLE_ADD\"]),\n    ...mapMutations(\"popupDelete\", [\n      \"SET_IS_SHOW\",\n      \"SET_TITLE\",\n      \"SET_NAME_DETAIL\",\n      \"SET_CASE_DELETE\",\n    ]),\n    ...mapMutations(\"loading\", [\"SET_LOADING\"]),\n    toggleDisplay() {\n      this.isToggle = !this.isToggle;\n    },\n    onPageChange(page) {\n      this.currentPage = page;\n    },\n    selectedItem(selectedValue) {\n      this.selected = [...selectedValue];\n    },\n    handleSearch() {\n      this.currentPage = 1;\n      this.getEmployeeFromApi(this.currentPage, this.keyword);\n    },\n    async getEmployeeFromApi(page, search) {\n      try {\n        this.SET_LOADING(true);\n        const res = await api(\"getEmployeeApi\", {\n          page: page,\n          search: search,\n        });\n        if (res.success) {\n          this.SET_LOADING(false);\n        } else {\n          if (res.data.response.data.status === 403) {\n            this.$router.push(\"/not-found\");\n            this.$store.commit(\"SET_ERROR_PAGE\", 403);\n          }\n\n          this.SET_LOADING(false);\n        }\n        const listpeople = res.data.data;\n        this.employeeData = listpeople.content;\n        this.totalPage = listpeople.totalPages;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    openAddUser() {\n      this.SET_IS_SHOW_ADD(true);\n      this.SET_TITLE_ADD(\"Add User\");\n    },\n    deleteUsers() {\n      this.SET_IS_SHOW(this.selected);\n      this.SET_TITLE(\"employee\");\n      this.SET_NAME_DETAIL(\"employee\");\n      this.SET_CASE_DELETE(6);\n    },\n  },\n  watch: {\n    currentPage(updatedValue) {\n      this.getEmployeeFromApi(updatedValue, this.keyword);\n    },\n    flagChange(newValue) {\n      if (newValue === true) {\n        this.getEmployeeFromApi(this.currentPage, this.keyword);\n        this.$store.commit(\"SET_FLAG_CHANGE\", false);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.header-section {\n  @apply w-full px-2 mt-2;\n\n  .title-section {\n    @apply border-b-2 border-primary-1 pt-4 pb-3;\n\n    h1 {\n      @apply text-3xl font-medium mr-auto text-primary-1;\n    }\n  }\n}\n\n.box-display {\n  @apply mr-4 px-2 py-1 bg-gray-300 rounded-md box-border;\n}\n\n.custom-class {\n  @apply cursor-pointer;\n  &:first-child {\n    @apply mr-2;\n  }\n  @apply h-full box-content p-1 hover:bg-white text-black rounded-md;\n}\n\n.active {\n  @apply bg-white;\n}\n\n.search-icon {\n  @apply w-4 h-4 absolute my-auto inset-y-0 ml-3 left-0 z-10 text-gray-700 dark:text-gray-300;\n}\n\n.filter-container {\n  @apply absolute border-gray-500 border-l pl-2 inset-y-0 mr-3 right-0 flex items-center;\n}\n\n.filter-icon {\n  @apply w-5 h-5 text-black cursor-pointer dark:text-gray-300;\n}\n\n.dropdown-menu {\n  top: -0.9rem !important;\n  left: 0.9rem !important;\n}\n\n.btn-export {\n  @apply hover:bg-blue-900 text-primary-1;\n}\n.people-container {\n  @apply grid mx-auto w-full grid-cols-5 gap-6;\n}\n\n.box-tools {\n  @apply float-right mb-12 flex items-center;\n}\n\n.text-filter {\n  box-shadow: 1px 2px 10px rgba($color: #2e2e2e, $alpha: 0.15);\n  @apply w-full sm:w-full px-10 text-gray-700 dark:text-gray-300 placeholder-theme-8;\n}\n\n.box-filter {\n  @apply w-full sm:w-2/7 relative mr-auto mt-3 sm:mt-0 flex justify-center mx-auto;\n}\n\n.container-section {\n  @apply flex flex-col-reverse sm:flex-row items-center mt-6 mb-4;\n}\n\n.btn-delete {\n  @apply text-red-400 mr-4 bg-gray-300;\n}\n\n.table-people {\n  @apply mt-6;\n}\n</style>\n"]}]}