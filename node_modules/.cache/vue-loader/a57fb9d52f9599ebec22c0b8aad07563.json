{"remainingRequest":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dlinh/Documents/hr-management/src/views/user-profile/TimeLine.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dlinh/Documents/hr-management/src/views/user-profile/TimeLine.vue","mtime":1623749289480},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEFyY2hpdmVJY29uIH0gZnJvbSAidnVlLWZlYXRoZXItaWNvbnMiOwppbXBvcnQgeyBFZGl0SWNvbiB9IGZyb20gInZ1ZS1mZWF0aGVyLWljb25zIjsKaW1wb3J0ICJ2dWUyLWRhdGVwaWNrZXIvaW5kZXguY3NzIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCBhcGkgZnJvbSAiQC9hcGkvYXBpIjsKaW1wb3J0IEFydGljbGUgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9UaW1lbGluZS9BcnRpY2xlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IEFydGljbGUgfSwKICBjb21wb25lbnQ6IHsKICAgIEFyY2hpdmVJY29uLAogICAgRWRpdEljb24sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWNjb3VudElkOiAiIiwKICAgICAgc29ydGVkVGltZWxpbmU6IFtdLAogICAgICB0aW1lbGluZXM6IFtdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcE11dGF0aW9ucygicG9wdXBBZGRUaW1lbGluZSIsIFsKICAgICAgIlNFVF9TSE9XX0FERF9USU1FTElORSIsCiAgICAgICJTRVRfQUNDT1VOVF9JRCIsCiAgICBdKSwKICAgIC4uLm1hcE11dGF0aW9ucygibG9hZGluZyIsIFsiU0VUX0xPQURJTkciXSksCiAgICAvL29wZW4gYWRkIFRpbWVsaW5lCiAgICBvcGVuQWRkVGltZWxpbmUoKSB7CiAgICAgIHRoaXMuU0VUX1NIT1dfQUREX1RJTUVMSU5FKCJ0cnVlIik7CiAgICB9LAogICAgLy9nZXQgZGF0YSB0aW1lbGluZXMgZnJvbSBhcGkKICAgIGFzeW5jIGdldFRpbWVsaW5lcygpIHsKICAgICAgdGhpcy5TRVRfTE9BRElORyh0cnVlKTsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBpKCJnZXRUaW1lbGluZXNBcGkiLCB0aGlzLmFjY291bnRJZCk7CiAgICAgIHRoaXMudGltZWxpbmVzID0gWy4uLnJlc3VsdC5kYXRhLmRhdGFdOwogICAgICB0aGlzLnNvcnRlZFRpbWVsaW5lID0gWy4uLnRoaXMudGltZWxpbmVzXTsKICAgICAgdGhpcy5zb3J0TGlzdCh0aGlzLnNvcnRlZFRpbWVsaW5lKTsKICAgICAgdGhpcy5TRVRfTE9BRElORyhmYWxzZSk7CiAgICB9LAogICAgLy9zdGFydCA6IHNvcnQgbGlzdAogICAgc29ydExpc3QoYXJyKSB7CiAgICAgIGFyci5zb3J0KChwcmV2LCBuZXh0KSA9PiB7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIERhdGUucGFyc2UocHJldi5zdGFydERhdGUpICsKICAgICAgICAgIERhdGUucGFyc2UocHJldi5lbmREYXRlKSAtCiAgICAgICAgICAoRGF0ZS5wYXJzZShuZXh0LnN0YXJ0RGF0ZSkgKyBEYXRlLnBhcnNlKG5leHQuZW5kRGF0ZSkpCiAgICAgICAgKTsKICAgICAgfSk7CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJmbGFnQ2hhbmdlIl0pLAogICAgLi4ubWFwR2V0dGVycygibG9hZGluZyIsIHsgaXNMb2FkaW5nOiAibG9hZGluZyIgfSksCiAgfSwKICB3YXRjaDogewogICAgZmxhZ0NoYW5nZShuZXdWYWx1ZSkgewogICAgICBpZiAobmV3VmFsdWUgPT09IHRydWUpIHsKICAgICAgICB0aGlzLmdldFRpbWVsaW5lcygpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0ZMQUdfQ0hBTkdFIiwgZmFsc2UpOwogICAgICB9CiAgICB9LAogICAgdGltZWxpbmVzKG5ld1ZhbHVlKSB7CiAgICAgIHRoaXMuc29ydGVkVGltZWxpbmUgPSBbLi4ubmV3VmFsdWVdOwogICAgICB0aGlzLnNvcnRMaXN0KHRoaXMuc29ydGVkVGltZWxpbmUpOwogICAgfSwKICAgICRyb3V0ZTogewogICAgICBoYW5kbGVyOiBhc3luYyBmdW5jdGlvbiAodG8pIHsKICAgICAgICB0aGlzLmFjY291bnRJZCA9IHRvLnBhcmFtcy5pZDsKICAgICAgICB0aGlzLlNFVF9BQ0NPVU5UX0lEKHRvLnBhcmFtcy5pZCk7CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgIH0sCiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgYXdhaXQgdGhpcy5nZXRUaW1lbGluZXMoKTsKICB9LAp9Owo="},{"version":3,"sources":["TimeLine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TimeLine.vue","sourceRoot":"src/views/user-profile","sourcesContent":["<template>\n  <div class=\"timeline\">\n    <div class=\"w-full sm:w-auto flex justify-end\">\n      <div class=\"dropdown\">\n        <button\n          @click=\"openAddTimeline()\"\n          class=\"dropdown-toggle btn px-2 box text-gray-700 dark:text-gray-300\"\n          aria-expanded=\"false\"\n        >\n          <span class=\"w-5 h-5 flex items-center justify-center\">\n            <PlusIcon class=\"w-4 h-4\" />\n          </span>\n        </button>\n      </div>\n    </div>\n    <!--    <PopupTimeline :addTimelines=\"addTimelines\" />-->\n    <div class=\"timeline-content\">\n      <div class=\"timeline-inner\">\n        <div\n          v-if=\"sortedTimeline.length === 0 && !isLoading\"\n          class=\"text-center opacity-70 mt-16 bg-gray-400 pb-44\"\n        >\n          <img\n            alt=\"Icewall Tailwind HTML Admin Template\"\n            class=\"h-80 m-auto mb-4\"\n            :src=\"require(`@/assets/images/error-illustration.svg`)\"\n          />No information yet, please add a new one\n        </div>\n        <Article\n          v-for=\"timeline in sortedTimeline\"\n          :key=\"timeline.id\"\n          :timeline=\"timeline\"\n          :timelines=\"timelines\"\n          class=\"article\"\n          :accountId=\"accountId\"\n        >\n        </Article>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { ArchiveIcon } from \"vue-feather-icons\";\nimport { EditIcon } from \"vue-feather-icons\";\nimport \"vue2-datepicker/index.css\";\nimport { mapGetters, mapMutations } from \"vuex\";\nimport api from \"@/api/api\";\nimport Article from \"../../components/Timeline/Article\";\n\nexport default {\n  components: { Article },\n  component: {\n    ArchiveIcon,\n    EditIcon,\n  },\n  data() {\n    return {\n      accountId: \"\",\n      sortedTimeline: [],\n      timelines: [],\n    };\n  },\n  methods: {\n    ...mapMutations(\"popupAddTimeline\", [\n      \"SET_SHOW_ADD_TIMELINE\",\n      \"SET_ACCOUNT_ID\",\n    ]),\n    ...mapMutations(\"loading\", [\"SET_LOADING\"]),\n    //open add Timeline\n    openAddTimeline() {\n      this.SET_SHOW_ADD_TIMELINE(\"true\");\n    },\n    //get data timelines from api\n    async getTimelines() {\n      this.SET_LOADING(true);\n      const result = await api(\"getTimelinesApi\", this.accountId);\n      this.timelines = [...result.data.data];\n      this.sortedTimeline = [...this.timelines];\n      this.sortList(this.sortedTimeline);\n      this.SET_LOADING(false);\n    },\n    //start : sort list\n    sortList(arr) {\n      arr.sort((prev, next) => {\n        return (\n          Date.parse(prev.startDate) +\n          Date.parse(prev.endDate) -\n          (Date.parse(next.startDate) + Date.parse(next.endDate))\n        );\n      });\n    },\n  },\n  computed: {\n    ...mapGetters([\"flagChange\"]),\n    ...mapGetters(\"loading\", { isLoading: \"loading\" }),\n  },\n  watch: {\n    flagChange(newValue) {\n      if (newValue === true) {\n        this.getTimelines();\n        this.$store.commit(\"SET_FLAG_CHANGE\", false);\n      }\n    },\n    timelines(newValue) {\n      this.sortedTimeline = [...newValue];\n      this.sortList(this.sortedTimeline);\n    },\n    $route: {\n      handler: async function (to) {\n        this.accountId = to.params.id;\n        this.SET_ACCOUNT_ID(to.params.id);\n      },\n      immediate: true,\n    },\n  },\n  async created() {\n    await this.getTimelines();\n  },\n};\n</script>\n<style lang=\"scss\">\n.timeline {\n  .timeline-content::-webkit-scrollbar {\n    display: none;\n  }\n  .timeline-content {\n    @apply flex justify-center rounded mt-4;\n    height: 700px;\n    overflow-y: scroll;\n    .timeline-inner {\n      @apply w-11/12;\n      .article {\n        position: relative;\n        @apply flex w-11/12 justify-center mb-4;\n        .line {\n          height: 100%;\n          @apply text-center;\n          .line-icon {\n            height: 20%;\n          }\n          .line-vertical {\n            position: absolute;\n            border-left: 1px solid gray;\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}