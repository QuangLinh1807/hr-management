{"remainingRequest":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dlinh/Documents/hr-management/src/components/Timeline/Article.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dlinh/Documents/hr-management/src/components/Timeline/Article.vue","mtime":1623749289480},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IERvdWJsZUNoZXZyb24gZnJvbSAiLi4vc3ZnL0RvdWJsZUNoZXZyb24iOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGFwaSBmcm9tICJAL2FwaS9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFydGljbGUiLAogIGNvbXBvbmVudHM6IHsgRG91YmxlQ2hldnJvbiB9LAogIHByb3BzOiB7CiAgICB0aW1lbGluZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0sCiAgICB9LAogICAgYWNjb3VudElkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiAiIjsKICAgICAgfSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZWxpbmVFZGl0OiB7fSwKICAgICAgZXJyb3JfbWVzc2FnZTogIiIsCiAgICAgIGhhbmRsZVNob3c6IGZhbHNlLAogICAgICBmaWVsZFRpdGxlOiB7CiAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgIHBsYWNlaG9sZGVyOiAiVGl0bGUiLAogICAgICAgIG5hbWU6ICJUaXRsZSIsCiAgICAgICAgbW9kZWw6ICIiLAogICAgICAgIHJ1bGVzOiAicmVxdWlyZWR8bWluOjR8bWF4OjUwIiwKICAgICAgfSwKICAgICAgZmllbGRDb250ZW50OiB7CiAgICAgICAgdHlwZTogInRleHRhcmVhIiwKICAgICAgICBwbGFjZWhvbGRlcjogIkNvbnRlbnQiLAogICAgICAgIG5hbWU6ICJDb250ZW50IiwKICAgICAgICBtb2RlbDogIiIsCiAgICAgICAgcnVsZXM6ICJyZXF1aXJlZHxtaW46NHxtYXg6NTEyIiwKICAgICAgfSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoInBvcHVwRGVsZXRlIiwgWwogICAgICAiU0VUX1RJVExFIiwKICAgICAgIlNFVF9OQU1FX0RFVEFJTCIsCiAgICAgICJTRVRfSVNfU0hPVyIsCiAgICAgICJTRVRfQ0FTRV9ERUxFVEUiLAogICAgICAiU0VUX0FDQ09VTlRfSUQiLAogICAgXSksCiAgICAuLi5tYXBNdXRhdGlvbnMoImxvYWRpbmciLCBbIlNFVF9MT0FESU5HIl0pLAogICAgY2FuY2VsRGVsZXRlKCkgewogICAgICB0aGlzLnRpbWVsaW5lRWRpdCA9IHsgLi4udGhpcy50aW1lbGluZSwgaXNFZGl0OiBmYWxzZSB9OwogICAgfSwKICAgIG9wZW5EZWxldGUoaWQpIHsKICAgICAgdGhpcy5TRVRfVElUTEUoIlVzZXIiKTsKICAgICAgdGhpcy5TRVRfTkFNRV9ERVRBSUwodGhpcy50aW1lbGluZS50aXRsZSk7CiAgICAgIHRoaXMuU0VUX0lTX1NIT1coaWQpOwogICAgICB0aGlzLlNFVF9DQVNFX0RFTEVURSgxKTsKICAgICAgdGhpcy5TRVRfQUNDT1VOVF9JRCh0aGlzLmFjY291bnRJZCk7CiAgICB9LAogICAgYXN5bmMgc3VibWl0Rm9ybSgpIHsKICAgICAgdGhpcy5TRVRfTE9BRElORyh0cnVlKTsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBpKCJ1cGRhdGVUaW1lTGluZUFwaSIsIHsKICAgICAgICBhY2NvdW50SWQ6IHRoaXMuYWNjb3VudElkLAogICAgICAgIGlkOiB0aGlzLnRpbWVsaW5lRWRpdC5pZCwKICAgICAgICB0aXRsZTogdGhpcy50aW1lbGluZUVkaXQudGl0bGUsCiAgICAgICAgc3RhcnREYXRlOiBtb21lbnQodGhpcy50aW1lbGluZUVkaXQuc3RhcnREYXRlKS5mb3JtYXQoIkREL01NL1lZWVkiKSwKICAgICAgICBlbmREYXRlOiBtb21lbnQodGhpcy50aW1lbGluZUVkaXQuZW5kRGF0ZSkuZm9ybWF0KCJERC9NTS9ZWVlZIiksCiAgICAgICAgY29udGVudDogdGhpcy50aW1lbGluZUVkaXQuY29udGVudCwKICAgICAgfSk7CiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0ZMQUdfQ0hBTkdFIiwgdHJ1ZSk7CiAgICAgICAgdGhpcy5TRVRfTE9BRElORyhmYWxzZSk7CiAgICAgICAgdGhpcy50aW1lbGluZUVkaXQuaXNFZGl0ID0gZmFsc2U7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIGdyb3VwOiAiZm9vIiwKICAgICAgICAgIHRpdGxlOiAiU3VjY2VzcyIsCiAgICAgICAgICB0ZXh0OiAiU3VjY2Vzc2Z1bGx5IGVkaXQgVGltZWxpbmUiLAogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuU0VUX0xPQURJTkcoZmFsc2UpOwogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICBncm91cDogImZvbyIsCiAgICAgICAgICB0aXRsZTogImVycm9yIiwKICAgICAgICAgIHRleHQ6ICJDYW4gbm90IGVkaXQgVGltZWxpbmUiLAogICAgICAgICAgdHlwZTogImRhbmdlciIsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbImlzU2hvdyJdKSwKICAgIHN0YXJ0RGF0ZSgpIHsKICAgICAgcmV0dXJuIG1vbWVudCh0aGlzLnRpbWVsaW5lRWRpdC5zdGFydERhdGUpLmZvcm1hdCgiTU0vWVlZWSIpOwogICAgfSwKICAgIGVuZERhdGUoKSB7CiAgICAgIHJldHVybiBtb21lbnQodGhpcy50aW1lbGluZUVkaXQuZW5kRGF0ZSkuZm9ybWF0KCJNTS9ZWVlZIik7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudGltZWxpbmVFZGl0ID0geyAuLi50aGlzLnRpbWVsaW5lLCBpc0VkaXQ6IGZhbHNlIH07CiAgfSwKfTsK"},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Article.vue","sourceRoot":"src/components/Timeline","sourcesContent":["<template>\n  <div class=\"article\">\n    <div class=\"time\">\n      <p class=\"time-content\">{{ startDate }} - {{ endDate }}</p>\n    </div>\n    <div class=\"line\">\n      <div class=\"line-icon\">\n        <div class=\"line-icon-img\">\n          <double-chevron />\n        </div>\n      </div>\n      <div>\n        <span class=\"line-vertical\"> </span>\n      </div>\n    </div>\n    <div class=\"timeline-handle\">\n      <div\n        class=\"display-timeline\"\n        v-if=\"timelineEdit.isEdit === false\"\n        @mouseenter=\"handleShow = true\"\n        @mouseleave=\"handleShow = false\"\n      >\n        <div class=\"timeline-title\">\n          <h2 class=\"timeline-title-text\">\n            {{ timelineEdit.title }}\n          </h2>\n          <div class=\"timeline-edit-delete\" v-show=\"handleShow\">\n            <div class=\"edit-button\" @click=\"timelineEdit.isEdit = true\">\n              <EditIcon class=\"edit-button-timeline\" />\n            </div>\n            <a class=\"delete-button\" @click=\"openDelete(timelineEdit.id)\">\n              <TrashIcon class=\"delete-button-timeline\"\n            /></a>\n          </div>\n        </div>\n        <div class=\"timeline-p\">\n          <p>\n            {{ timelineEdit.content }}\n          </p>\n        </div>\n      </div>\n      <div class=\"edit-timeline\" v-else>\n        <ValidationObserver v-slot=\"{ handleSubmit }\">\n          <form @submit.prevent=\"handleSubmit(submitForm)\">\n            <div class=\"form-edit\">\n              <div class=\"form-edit-content\">\n                <ValidationProvider\n                  v-slot=\"{ errors, classes }\"\n                  :rules=\"fieldTitle.rules\"\n                  class=\"validate\"\n                  :name=\"fieldTitle.name\"\n                >\n                  <div class=\"type-text\" v-if=\"fieldTitle.type === 'text'\">\n                    <label class=\"label-edit form-label\">{{\n                      fieldTitle.name\n                    }}</label>\n                    <input\n                      :type=\"fieldTitle.type\"\n                      class=\"form-control w-full\"\n                      placeholder=\"Input text\"\n                      v-model=\"timelineEdit.title\"\n                      :class=\"{ error: errors[0] }\"\n                    />\n                    <div class=\"text-error style-span\" :class=\"classes\">\n                      {{ errors[0] }}\n                    </div>\n                  </div>\n                </ValidationProvider>\n                <ValidationProvider\n                  v-slot=\"{ errors, classes }\"\n                  :rules=\"fieldContent.rules\"\n                  class=\"validate\"\n                  :name=\"fieldContent.name\"\n                >\n                  <div v-if=\"fieldContent.type === 'textarea'\">\n                    <label class=\"form-label font-bold text-base\">{{\n                      fieldContent.name\n                    }}</label>\n                    <textarea\n                      class=\"form-control w-full\"\n                      v-model=\"timelineEdit.content\"\n                      cols=\"30\"\n                      rows=\"10\"\n                    ></textarea>\n                    <div class=\"text-error style-span\" :class=\"classes\">\n                      {{ errors[0] }}\n                    </div>\n                  </div>\n                </ValidationProvider>\n                <div class=\"timeline-p\">\n                  <p class=\"text-red-600\">{{ error_message }}</p>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"text-right mt-5\">\n              <button\n                type=\"submit\"\n                class=\"btn btn-primary w-24 text-white\"\n                style=\"color: white\"\n              >\n                Save\n              </button>\n              <a\n                class=\"btn btn-outline-secondary w-24 ml-4\"\n                @click=\"cancelDelete()\"\n              >\n                Cancel\n              </a>\n            </div>\n          </form>\n        </ValidationObserver>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport DoubleChevron from \"../svg/DoubleChevron\";\nimport { mapGetters, mapMutations } from \"vuex\";\nimport api from \"@/api/api\";\nexport default {\n  name: \"Article\",\n  components: { DoubleChevron },\n  props: {\n    timeline: {\n      type: Object,\n      default: () => {\n        return {};\n      },\n    },\n    accountId: {\n      type: String,\n      default: () => {\n        return \"\";\n      },\n    },\n  },\n  data() {\n    return {\n      timelineEdit: {},\n      error_message: \"\",\n      handleShow: false,\n      fieldTitle: {\n        type: \"text\",\n        placeholder: \"Title\",\n        name: \"Title\",\n        model: \"\",\n        rules: \"required|min:4|max:50\",\n      },\n      fieldContent: {\n        type: \"textarea\",\n        placeholder: \"Content\",\n        name: \"Content\",\n        model: \"\",\n        rules: \"required|min:4|max:512\",\n      },\n    };\n  },\n  methods: {\n    ...mapMutations(\"popupDelete\", [\n      \"SET_TITLE\",\n      \"SET_NAME_DETAIL\",\n      \"SET_IS_SHOW\",\n      \"SET_CASE_DELETE\",\n      \"SET_ACCOUNT_ID\",\n    ]),\n    ...mapMutations(\"loading\", [\"SET_LOADING\"]),\n    cancelDelete() {\n      this.timelineEdit = { ...this.timeline, isEdit: false };\n    },\n    openDelete(id) {\n      this.SET_TITLE(\"User\");\n      this.SET_NAME_DETAIL(this.timeline.title);\n      this.SET_IS_SHOW(id);\n      this.SET_CASE_DELETE(1);\n      this.SET_ACCOUNT_ID(this.accountId);\n    },\n    async submitForm() {\n      this.SET_LOADING(true);\n      const result = await api(\"updateTimeLineApi\", {\n        accountId: this.accountId,\n        id: this.timelineEdit.id,\n        title: this.timelineEdit.title,\n        startDate: moment(this.timelineEdit.startDate).format(\"DD/MM/YYYY\"),\n        endDate: moment(this.timelineEdit.endDate).format(\"DD/MM/YYYY\"),\n        content: this.timelineEdit.content,\n      });\n      if (result.success === true) {\n        this.$store.commit(\"SET_FLAG_CHANGE\", true);\n        this.SET_LOADING(false);\n        this.timelineEdit.isEdit = false;\n        this.$notify({\n          group: \"foo\",\n          title: \"Success\",\n          text: \"Successfully edit Timeline\",\n          type: \"success\",\n        });\n      } else {\n        this.SET_LOADING(false);\n        this.$notify({\n          group: \"foo\",\n          title: \"error\",\n          text: \"Can not edit Timeline\",\n          type: \"danger\",\n        });\n      }\n    },\n  },\n  computed: {\n    ...mapGetters([\"isShow\"]),\n    startDate() {\n      return moment(this.timelineEdit.startDate).format(\"MM/YYYY\");\n    },\n    endDate() {\n      return moment(this.timelineEdit.endDate).format(\"MM/YYYY\");\n    },\n  },\n  mounted() {\n    this.timelineEdit = { ...this.timeline, isEdit: false };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.article {\n  @apply flex;\n  .time {\n    @apply w-1/6 flex;\n    .time-content {\n      @apply text-sm pt-2 break-words;\n    }\n  }\n  .line {\n    .line {\n      position: relative;\n      @apply text-center;\n      height: 100%;\n      .line-vertical {\n        position: absolute;\n        border-left: 1px solid gray;\n      }\n    }\n    .line-icon {\n      @apply h-56 box-border;\n      background-color: #fefefe;\n      .line-icon-img {\n        @apply rounded-full border-blue-500 border-4 p-3;\n      }\n    }\n    .LineShape {\n      .LineShapeDetail {\n        @apply flex justify-center;\n      }\n    }\n  }\n  .timeline-handle {\n    @apply ml-10 w-full;\n    .display-timeline {\n      @apply flex-wrap;\n      .timeline-title {\n        @apply flex justify-between h-6;\n        .timeline-title-text {\n          @apply font-bold text-lg text-left w-4/5 break-words break-all;\n        }\n        .timeline-edit-delete {\n          @apply flex;\n          .edit-button {\n            @apply w-8 h-8 rounded-full flex justify-center cursor-pointer;\n            transition: 300ms all;\n            .edit-button-timeline {\n              @apply block w-5 h-5 text-blue-900;\n              margin: auto;\n            }\n          }\n          .edit-button:hover {\n            @apply bg-blue-900;\n            .edit-button-timeline {\n              color: white;\n            }\n          }\n          .delete-button {\n            @apply cursor-pointer  w-8 h-8 rounded-full flex justify-center;\n            .delete-button-timeline {\n              @apply w-5 h-5 text-gray-800;\n              margin: auto;\n            }\n          }\n\n          .delete-button:hover {\n            transition-delay: 100ms;\n            @apply bg-gray-800;\n            .delete-button-timeline {\n              transition-delay: 100ms;\n              color: white;\n            }\n          }\n        }\n      }\n      .timeline-p {\n        @apply pt-2 break-words break-all text-justify text-base;\n      }\n    }\n    .edit-timeline {\n      .form-edit {\n        .form-edit-content {\n          @apply mb-6 w-full;\n          .validate {\n            @apply mb-6;\n            .type-text {\n              .label-edit {\n                @apply font-bold text-base;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n.style-span {\n  @apply h-3 mb-2;\n  color: red;\n  padding: 5px;\n  margin-top: 5px;\n  text-align: left;\n}\n</style>\n"]}]}