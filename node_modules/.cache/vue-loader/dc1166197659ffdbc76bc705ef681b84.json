{"remainingRequest":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dlinh/Documents/hr-management/src/components/CardProfile/Objective.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dlinh/Documents/hr-management/src/components/CardProfile/Objective.vue","mtime":1624240131087},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAiQC9hcGkvYXBpIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNFZGl0VGFibGU6IHRydWUsCiAgICAgIHRleHRWYWx1ZTogIiIsCiAgICAgIGRhdGFBcGk6ICIiLAogICAgICBhY2NJZDogIiIsCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGdldFBlcnNvbmFsUHJvZmlsZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgaWYgKHZhbCkgewogICAgICAgICAgdGhpcy5iaW5kaW5nVmFsdWUoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogICAgJHJvdXRlOiB7CiAgICAgIGhhbmRsZXI6IGFzeW5jIGZ1bmN0aW9uICh0bykgewogICAgICAgIHRoaXMuYWNjSWQgPSB0by5wYXJhbXMuaWQ7CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgIH0sCiAgfSwKICAvLyBhc3luYyBjcmVhdGVkKCkgewogIC8vICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIm92ZXJ2aWV3L2dldFBlcnNvbmFsRnJvbUFwaSIpOwogIC8vIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoIm92ZXJ2aWV3IiwgWyJnZXRQZXJzb25hbFByb2ZpbGUiXSksCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoImxvYWRpbmciLCBbIlNFVF9MT0FESU5HIl0pLAogICAgYmluZGluZ1ZhbHVlKCkgewogICAgICB0aGlzLmRhdGFBcGkgPSB0aGlzLmdldFBlcnNvbmFsUHJvZmlsZS5vYmplY3RpdmU7CiAgICAgIHRoaXMudGV4dFZhbHVlID0gdGhpcy5kYXRhQXBpOwogICAgICB0aGlzLnRleHRWYWx1ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhQXBpKSk7CiAgICB9LAogICAgYXN5bmMgc2F2ZUluZm8oKSB7CiAgICAgIHRoaXMuaXNFZGl0VGFibGUgPSB0cnVlOwogICAgICB0aGlzLmRhdGFBcGkgPSB0aGlzLnRleHRWYWx1ZTsKICAgICAgYXdhaXQgdGhpcy5wdXREYXRhT2JqRnJvbUFwaSgpOwogICAgfSwKICAgIGNsb3NlU2F2ZSgpIHsKICAgICAgdGhpcy5pc0VkaXRUYWJsZSA9IHRydWU7CiAgICAgIC8vIHRoaXMuYmluZGluZ1ZhbHVlKCk7CiAgICAgIHRoaXMudGV4dFZhbHVlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGFBcGkpKTsKICAgIH0sCiAgICB0b2dnbGVEaXNhYmxlKCkgewogICAgICB0aGlzLmlzRWRpdFRhYmxlID0gZmFsc2U7CiAgICB9LAogICAgYXN5bmMgcHV0RGF0YU9iakZyb21BcGkoKSB7CiAgICAgIHRoaXMuU0VUX0xPQURJTkcodHJ1ZSk7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXBpKCJwdXRVc2VyUHJvZmlsZUFwaSIsIHsKICAgICAgICAgIGRhdGE6IHsgb2JqZWN0aXZlOiB0aGlzLmRhdGFBcGkgfSwKICAgICAgICAgIGFjY291bnRJZDogdGhpcy5hY2NJZCwKICAgICAgICB9KTsKICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICB0aGlzLlNFVF9MT0FESU5HKGZhbHNlKTsKICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgIGdyb3VwOiAiZm9vIiwKICAgICAgICAgICAgdGl0bGU6ICJVcGxvYWQgT2JqZWN0aXZlIiwKICAgICAgICAgICAgdGV4dDogIlN1Y2Nlc3NmdWxseSBVcGxvYWQgT2JqZWN0aXZlIiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Objective.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Objective.vue","sourceRoot":"src/components/CardProfile","sourcesContent":["<template>\n  <div class=\"card-objective\">\n    <ValidationObserver v-slot=\"{ handleSubmit }\">\n      <form @submit.prevent=\"handleSubmit(saveInfo)\">\n        <div class=\"intro-y\">\n          <div class=\"tit-obj\">\n            <h2 class=\"text-lg mr-auto font-bold\">Objective</h2>\n            <div>\n              <button\n                v-if=\"!isEditTable\"\n                class=\"mr-2 focus:outline-none\"\n                type=\"submit\"\n              >\n                <SaveIcon class=\"text-blue-900\" />\n              </button>\n              <button\n                v-if=\"!isEditTable\"\n                class=\"focus:outline-none\"\n                @click=\"closeSave\"\n              >\n                <XIcon class=\"text-red-700 focus:outline-none\" />\n              </button>\n\n              <EditIcon\n                class=\"\n                  hover:text-primary-1\n                  focus:border-none\n                  focus:outline-none\n                  text-blue-900\n                  cursor-pointer\n                \"\n                v-if=\"isEditTable\"\n                @click.prevent=\"toggleDisable\"\n              />\n            </div>\n          </div>\n\n          <div class=\"h-60 flex items-center\">\n            <ValidationProvider\n              rules=\"required|max: 2048\"\n              v-slot=\"{ errors }\"\n              name=\"Objective\"\n              class=\"w-full h-5/6 mx-4\"\n              v-if=\"!isEditTable\"\n            >\n              <textarea\n                class=\"text-obj\"\n                v-model.trim=\"textValue\"\n                :class=\"{ error: errors[0] }\"\n              >\n              </textarea>\n              <div v-if=\"!isEditTable\" class=\"text-red-600 ml-2 mt-1\">\n                {{ errors[0] }}\n              </div>\n            </ValidationProvider>\n            <PerfectScrollbar class=\"h-5/6\">\n              <div\n                v-if=\"isEditTable\"\n                class=\"\n                  flex flex-col\n                  sm:flex-row\n                  w-full\n                  h-5/6\n                  px-8\n                  py-2\n                  rounded-lg\n                  text-gray-600\n                  focus:outline-none\n                  focus:border-none\n                  text-justify\n                \"\n              >\n                {{ textValue }}\n              </div>\n            </PerfectScrollbar>\n          </div>\n        </div>\n      </form>\n    </ValidationObserver>\n  </div>\n</template>\n<script>\nimport api from \"@/api/api\";\nimport { mapGetters, mapMutations } from \"vuex\";\nexport default {\n  data() {\n    return {\n      isEditTable: true,\n      textValue: \"\",\n      dataApi: \"\",\n      accId: \"\",\n    };\n  },\n  watch: {\n    getPersonalProfile: {\n      handler: function (val) {\n        if (val) {\n          this.bindingValue();\n        }\n      },\n    },\n    $route: {\n      handler: async function (to) {\n        this.accId = to.params.id;\n      },\n      immediate: true,\n    },\n  },\n  // async created() {\n  //   await this.$store.dispatch(\"overview/getPersonalFromApi\");\n  // },\n  computed: {\n    ...mapGetters(\"overview\", [\"getPersonalProfile\"]),\n  },\n  methods: {\n    ...mapMutations(\"loading\", [\"SET_LOADING\"]),\n    bindingValue() {\n      this.dataApi = this.getPersonalProfile.objective;\n      this.textValue = this.dataApi;\n      this.textValue = JSON.parse(JSON.stringify(this.dataApi));\n    },\n    async saveInfo() {\n      this.isEditTable = true;\n      this.dataApi = this.textValue;\n      await this.putDataObjFromApi();\n    },\n    closeSave() {\n      this.isEditTable = true;\n      // this.bindingValue();\n      this.textValue = JSON.parse(JSON.stringify(this.dataApi));\n    },\n    toggleDisable() {\n      this.isEditTable = false;\n    },\n    async putDataObjFromApi() {\n      this.SET_LOADING(true);\n      try {\n        const res = await api(\"putUserProfileApi\", {\n          data: { objective: this.dataApi },\n          accountId: this.accId,\n        });\n        if (res) {\n          this.SET_LOADING(false);\n          this.$notify({\n            group: \"foo\",\n            title: \"Upload Objective\",\n            text: \"Successfully Upload Objective\",\n            type: \"success\",\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.text-obj {\n  border-radius: 4px;\n  @apply p-2 text-gray-600 h-full focus:outline-none resize-none w-full;\n}\n.card-objective {\n  // border: 1px solid #cecece;\n  background-color: #f2f8fc;\n  @apply w-full rounded overflow-hidden h-auto;\n}\n.tit-obj {\n  border-bottom: 1px solid #fff;\n  @apply flex items-center p-1 pl-3;\n}\n.active {\n  border: 1px solid rgba($color: gray, $alpha: 0.2);\n}\n/* width */\n::-webkit-scrollbar {\n  width: 4px;\n}\n/* Track */\n::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n/* Handle */\n::-webkit-scrollbar-thumb {\n  background: #888;\n  border-radius: 4px;\n}\n\n/* Handle on hover */\n::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n.error {\n  border-color: #ed5d5d;\n  background-color: rgba($color: #ed5d5d, $alpha: 0.08);\n}\n</style>\n"]}]}