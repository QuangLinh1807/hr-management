{"remainingRequest":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dlinh/Documents/hr-management/src/views/user-profile/SkillSet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dlinh/Documents/hr-management/src/views/user-profile/SkillSet.vue","mtime":1623749289480},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGlEIGZyb20gIkAvYXBpL2FwaS1kb3dubG9hZCI7CmltcG9ydCBhcGkgZnJvbSAiQC9hcGkvYXBpIjsKaW1wb3J0IEFjY29yZGlvbiBmcm9tICJAL2NvbXBvbmVudHMvQWNjb3JkaW9uL0FjY29yZGlvbiI7CmltcG9ydCBDYXRlZ29yeSBmcm9tICIuLi8uLi9jb21wb25lbnRzL0NhcmRTa2lsbFNldC9DYXRlZ29yeS52dWUiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQWNjb3JkaW9uLAogICAgQ2F0ZWdvcnksCiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgYXdhaXQgdGhpcy5nZXRTa2lsbFNldEZyb21BcGkoKTsKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1RvZ2dsZTogZmFsc2UsCiAgICAgIGlzU2hvd0FsbDogdHJ1ZSwKICAgICAgbGlzdENhdGVnb3J5OiBbXSwKICAgICAgbGlzdENhdGVnb3JpZXM6IFtdLAogICAgICBzZWFyY2g6IG51bGwsCiAgICAgIHBhcmFtc0lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoIm92ZXJ2aWV3IiwgWyJnZXRQZXJzb25hbFByb2ZpbGUiXSksCiAgICAuLi5tYXBHZXR0ZXJzKCJsb2FkaW5nIiwgeyBpc0xvYWRpbmc6ICJsb2FkaW5nIiB9KSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZURpc3BsYXkoKSB7CiAgICAgIHRoaXMuaXNUb2dnbGUgPSAhdGhpcy5pc1RvZ2dsZTsKICAgICAgdGhpcy5saXN0Q2F0ZWdvcmllcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5saXN0Q2F0ZWdvcnkpKTsKICAgICAgdGhpcy5zaG93QWxsKGZhbHNlKTsKICAgIH0sCiAgICBzaG93QWxsKHZhbHVlKSB7CiAgICAgIHRoaXMuaXNTaG93QWxsID0gdmFsdWU7CiAgICAgIHRoaXMubGlzdENhdGVnb3JpZXMgPSB0aGlzLmxpc3RDYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IHsKICAgICAgICByZXR1cm4geyAuLi5jYXRlZ29yeSwgc3RhdHVzOiB2YWx1ZSB9OwogICAgICB9KTsKICAgIH0sCiAgICBmb2N1c0lucHV0KCkgewogICAgICB0aGlzLnNlYXJjaCA9IG51bGw7CiAgICB9LAogICAgYXN5bmMgc2VhcmNoRGF0YSgpIHsKICAgICAgYXdhaXQgdGhpcy5nZXRTa2lsbFNldEZyb21BcGkodGhpcy5zZWFyY2gpOwogICAgfSwKICAgIGFzeW5jIGdldFNraWxsU2V0RnJvbUFwaShzZWFyY2hRdWVyeSA9IG51bGwpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImxvYWRpbmcvU0VUX0xPQURJTkciLCB0cnVlKTsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkoImdldFByb2ZpbGVTa2lsbFNldCIsIHsKICAgICAgICAgIHNlYXJjaFF1ZXJ5LAogICAgICAgICAgYWNjb3VudElkOiB0aGlzLnBhcmFtc0lkLAogICAgICAgIH0pOwogICAgICAgIGlmICghcmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibG9hZGluZy9TRVRfTE9BRElORyIsIGZhbHNlKTsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQW4gZXJyb3Igb2NjdXJlZC4iKTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHJlc0RhdGEgPSByZXMuZGF0YS5kYXRhLm1hcCgoY2F0ZWdvcnkpID0+IHsKICAgICAgICAgIHJldHVybiB7IHN0YXR1czogdHJ1ZSwgLi4uY2F0ZWdvcnkgfTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImxvYWRpbmcvU0VUX0xPQURJTkciLCBmYWxzZSk7CiAgICAgICAgdGhpcy5saXN0Q2F0ZWdvcnkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc0RhdGEpKTsKICAgICAgICB0aGlzLmxpc3RDYXRlZ29yaWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNEYXRhKSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIGdyb3VwOiAiZm9vIiwKICAgICAgICAgIHRpdGxlOiAiZXJyb3IiLAogICAgICAgICAgdGV4dDogYCR7ZXJyb3J9YCwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyB1cGRhdGVTdWJDYXRlZ29yeSgpIHsKICAgICAgYXdhaXQgdGhpcy5nZXRTa2lsbFNldEZyb21BcGkoKTsKICAgIH0sCiAgICBhc3luYyBleHBvcnRQcm9maWxlU2tpbGwodHlwZV9leHBvcnQpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBhcGlEKCJleHBvcnRQcm9maWxlVXNlciIsIHsKICAgICAgICAgIHR5cGVfZXhwb3J0LAogICAgICAgICAgYWNjb3VudElkOiB0aGlzLnBhcmFtc0lkLAogICAgICAgIH0pOwogICAgICAgIGlmICghcmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQW4gZXJyb3Igb2NjdXJyZWQiKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlcy5kYXRhXSkpOwogICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgbGluay5ocmVmID0gdXJsOwogICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKAogICAgICAgICAgImRvd25sb2FkIiwKICAgICAgICAgIGAke3RoaXMuZ2V0UGVyc29uYWxQcm9maWxlLmZ1bGxuYW1lfS4kewogICAgICAgICAgICB0eXBlX2V4cG9ydCA9PSAicGRmIiA/ICJwZGYiIDogInhsc3giCiAgICAgICAgICB9YAogICAgICAgICk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICBncm91cDogImZvbyIsCiAgICAgICAgICB0aXRsZTogImVycm9yIiwKICAgICAgICAgIHRleHQ6IGAke2Vycm9yfWAsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["SkillSet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SkillSet.vue","sourceRoot":"src/views/user-profile","sourcesContent":["<template>\n  <div class=\"skillset\">\n    <div class=\"box-top\">\n      <div class=\"box-show\">\n        <button\n          class=\"btn mr-4 hover:bg-gray-300 transition-all\"\n          @click=\"isShowAll ? showAll(false) : showAll(true)\"\n          v-if=\"!isToggle\"\n        >\n          {{ isShowAll ? \"Show less\" : \"Show All\" }}\n        </button>\n      </div>\n      <div class=\"box-display\">\n        <list-icon\n          class=\"custom-class\"\n          @click=\"toggleDisplay\"\n          v-if=\"isToggle\"\n        ></list-icon>\n        <grid-icon\n          class=\"custom-class\"\n          @click=\"toggleDisplay\"\n          v-if=\"!isToggle\"\n        ></grid-icon>\n      </div>\n      <div class=\"box-input\">\n        <input\n          type=\"text\"\n          class=\"border-none outline-none bg-blue-100\"\n          placeholder=\"Search...\"\n          v-model.trim=\"search\"\n          @keyup.enter=\"searchData\"\n          @focus=\"focusInput\"\n        />\n        <SearchIcon class=\"custom-class\" @click=\"searchData\"></SearchIcon>\n      </div>\n      <div class=\"dropdown mr-2\">\n        <button\n          class=\"\n            dropdown-toggle\n            btn\n            box\n            text-gray-700\n            dark:text-gray-300\n            flex\n            items-center\n          \"\n          aria-expanded=\"false\"\n        >\n          Export To CV <ChevronDownIcon class=\"w-4 h-4 ml-2\" />\n        </button>\n        <div class=\"dropdown-menu w-40\">\n          <div class=\"dropdown-menu__content box dark:bg-dark-1 p-2\">\n            <button\n              class=\"btn-action\"\n              data-dismiss=\"dropdown\"\n              @click=\"exportProfileSkill('excel')\"\n              :disabled=\"isLoading\"\n            >\n              <FileTextIcon class=\"hidden sm:block w-4 h-4 mr-2\" />\n              Export to Excel\n            </button>\n            <button\n              class=\"btn-action\"\n              @click=\"exportProfileSkill('pdf')\"\n              :disabled=\"isLoading\"\n              data-dismiss=\"dropdown\"\n            >\n              <FileTextIcon class=\"hidden sm:block w-4 h-4 mr-2\" />\n              Export to PDF\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      v-if=\"listCategories && listCategories.length === 0 && !isLoading\"\n      class=\"text-center opacity-60 mt-16\"\n    >\n      <img\n        alt=\"Icewall Tailwind HTML Admin Template\"\n        class=\"h-40 m-auto mb-4\"\n        :src=\"require(`@/assets/images/error-illustration.svg`)\"\n      />No information yet\n    </div>\n    <div class=\"w-full\" v-if=\"!isToggle\">\n      <Accordion\n        v-for=\"category of listCategories\"\n        :key=\"category.id\"\n        :category=\"category\"\n        class=\"mb-4\"\n        @update-skillset=\"updateSubCategory\"\n      >\n      </Accordion>\n    </div>\n    <div v-if=\"isToggle\" class=\"w-full\">\n      <masonry\n        :cols=\"{ default: 3, 1280: 2, 1024: 2, 768: 2, 640: 1 }\"\n        :gutter=\"{ default: '15px', 700: '10px' }\"\n      >\n        <Category\n          v-for=\"category of listCategories\"\n          :key=\"category.id\"\n          :category=\"category\"\n          @update-skillset=\"updateSubCategory\"\n        ></Category>\n      </masonry>\n    </div>\n  </div>\n</template>\n\n<script>\nimport apiD from \"@/api/api-download\";\nimport api from \"@/api/api\";\nimport Accordion from \"@/components/Accordion/Accordion\";\nimport Category from \"../../components/CardSkillSet/Category.vue\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  components: {\n    Accordion,\n    Category,\n  },\n  async created() {\n    await this.getSkillSetFromApi();\n  },\n  data() {\n    return {\n      isToggle: false,\n      isShowAll: true,\n      listCategory: [],\n      listCategories: [],\n      search: null,\n      paramsId: this.$route.params.id,\n    };\n  },\n  computed: {\n    ...mapGetters(\"overview\", [\"getPersonalProfile\"]),\n    ...mapGetters(\"loading\", { isLoading: \"loading\" }),\n  },\n  methods: {\n    toggleDisplay() {\n      this.isToggle = !this.isToggle;\n      this.listCategories = JSON.parse(JSON.stringify(this.listCategory));\n      this.showAll(false);\n    },\n    showAll(value) {\n      this.isShowAll = value;\n      this.listCategories = this.listCategories.map((category) => {\n        return { ...category, status: value };\n      });\n    },\n    focusInput() {\n      this.search = null;\n    },\n    async searchData() {\n      await this.getSkillSetFromApi(this.search);\n    },\n    async getSkillSetFromApi(searchQuery = null) {\n      try {\n        this.$store.commit(\"loading/SET_LOADING\", true);\n        const res = await api(\"getProfileSkillSet\", {\n          searchQuery,\n          accountId: this.paramsId,\n        });\n        if (!res.success) {\n          this.$store.commit(\"loading/SET_LOADING\", false);\n          throw new Error(\"An error occured.\");\n        }\n\n        const resData = res.data.data.map((category) => {\n          return { status: true, ...category };\n        });\n        this.$store.commit(\"loading/SET_LOADING\", false);\n        this.listCategory = JSON.parse(JSON.stringify(resData));\n        this.listCategories = JSON.parse(JSON.stringify(resData));\n      } catch (error) {\n        this.$notify({\n          group: \"foo\",\n          title: \"error\",\n          text: `${error}`,\n          type: \"error\",\n        });\n      }\n    },\n    async updateSubCategory() {\n      await this.getSkillSetFromApi();\n    },\n    async exportProfileSkill(type_export) {\n      try {\n        const res = await apiD(\"exportProfileUser\", {\n          type_export,\n          accountId: this.paramsId,\n        });\n        if (!res.success) {\n          throw new Error(\"An error occurred\");\n        }\n        const url = window.URL.createObjectURL(new Blob([res.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\n          \"download\",\n          `${this.getPersonalProfile.fullname}.${\n            type_export == \"pdf\" ? \"pdf\" : \"xlsx\"\n          }`\n        );\n        document.body.appendChild(link);\n        link.click();\n        URL.revokeObjectURL(url);\n      } catch (error) {\n        this.$notify({\n          group: \"foo\",\n          title: \"error\",\n          text: `${error}`,\n          type: \"error\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.skillset {\n  @apply w-full flex flex-col items-center;\n}\n.box-top {\n  @apply mb-6 w-full flex justify-end items-center;\n}\n.box-display {\n  @apply mr-4 p-2 bg-gray-300 rounded-md hover:bg-gray-500 cursor-pointer;\n}\n.box-input {\n  @apply rounded-2xl bg-blue-100 px-2 h-10 flex items-center mr-4;\n}\n\n.btn-action {\n  @apply flex items-center p-2 transition duration-300 ease-in-out bg-white hover:bg-gray-200 rounded-md;\n}\n\n.custom-class {\n  @apply text-3xl cursor-pointer rounded-sm;\n}\n</style>\n"]}]}