{"remainingRequest":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dlinh/Documents/hr-management/src/components/LeftSideProfile/Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dlinh/Documents/hr-management/src/components/LeftSideProfile/Main.vue","mtime":1623749289480},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dlinh/Documents/hr-management/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dlinh/Documents/hr-management/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAiQC9hcGkvYXBpIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCBDaGlwQ2FyZFNraWxsIGZyb20gIi4vQ2hpcENhcmRTa2lsbC52dWUiOwppbXBvcnQgSG9iYnlDYXJkIGZyb20gIi4vSG9iYnlDYXJkLnZ1ZSI7CmltcG9ydCBQaWN0dXJlSW5wdXQgZnJvbSAidnVlLXBpY3R1cmUtaW5wdXQiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENoaXBDYXJkU2tpbGwsCiAgICBIb2JieUNhcmQsCiAgICBQaWN0dXJlSW5wdXQsCiAgfSwKICBwcm9wczogWyJpZCJdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY2NJZDogbnVsbCwKICAgICAgc2VsZWN0ZWRGaWxlOiAiIiwKICAgICAgbGlzdFNraWxsczogW10sCiAgICAgIGF2YXRhclVzZXI6ICIiLAogICAgICBmdWxsbmFtZTogIiIsCiAgICAgIHBvc2l0aW9uOiAiIiwKICAgICAgZm9ybWF0UG9zaXRpb246IHsKICAgICAgICAxOiAiUG9zaXRpb24gMSIsCiAgICAgICAgMjogIlBvc2l0aW9uIDIiLAogICAgICAgIDM6ICJQb3NpdGlvbiAzIiwKICAgICAgICA0OiAiUG9zaXRpb24gNCIsCiAgICAgICAgMTA6ICJQb3NpdGlvbiA1IiwKICAgICAgfSwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgZ2V0UGVyc29uYWxQcm9maWxlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICB0aGlzLmJpbmRpbmdGdWxsbmFtZSgpOwogICAgICAgIH0KICAgICAgfSwKICAgIH0sCiAgICAkcm91dGU6IHsKICAgICAgaGFuZGxlcjogYXN5bmMgZnVuY3Rpb24gKHRvKSB7CiAgICAgICAgdGhpcy5hY2NJZCA9IHRvLnBhcmFtcy5pZDsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgib3ZlcnZpZXcvZ2V0UGVyc29uYWxGcm9tQXBpIiwgewogICAgICAgICAgYWNjb3VudElkOiB0by5wYXJhbXMuaWQsCiAgICAgICAgfSk7CiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAib3Zlci12aWV3IiB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiTm90Rm91bmRBY2NvdW50SWQiIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgfSwKICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7fSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycygib3ZlcnZpZXciLCBbImdldFBlcnNvbmFsUHJvZmlsZSJdKSwKICAgIGlzU3RhdHVzQWN0aXZlKCkgewogICAgICByZXR1cm4gdGhpcy51c2VyLnN0YXR1cyA9PT0gIkFjdGl2ZSI7CiAgICB9LAogICAgaGFzQXZhdGFyKCkgewogICAgICByZXR1cm4gdGhpcy51c2VyLmF2YXRhciAhPT0gIiI7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKCJsb2FkaW5nIiwgWyJTRVRfTE9BRElORyJdKSwKICAgIGJpbmRpbmdGdWxsbmFtZSgpIHsKICAgICAgdGhpcy5mdWxsbmFtZSA9IHRoaXMuZ2V0UGVyc29uYWxQcm9maWxlLmZ1bGxuYW1lOwogICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5mb3JtYXRQb3NpdGlvblt0aGlzLmdldFBlcnNvbmFsUHJvZmlsZS5wb3NpdGlvbklkXTsKICAgICAgdGhpcy5hdmF0YXJVc2VyID0gdGhpcy5nZXRQZXJzb25hbFByb2ZpbGUuYXZhdGFyOwogICAgICB0aGlzLmxpc3RTa2lsbHMgPSB0aGlzLmdldFBlcnNvbmFsUHJvZmlsZS5tYWluU2tpbGxzOwogICAgfSwKCiAgICBhc3luYyBvbkNoYW5nZSgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMucGljdHVyZUlucHV0LmZpbGUpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkRmlsZSA9IHRoaXMuJHJlZnMucGljdHVyZUlucHV0LmZpbGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIk9sZCBicm93c2VyLiBObyBzdXBwb3J0IGZvciBGaWxlcmVhZGVyIEFQSSIpOwogICAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gIiI7CiAgICAgIH0KICAgICAgY29uc3QgZmQgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZmQuYXBwZW5kKCJhdmF0YXIiLCB0aGlzLnNlbGVjdGVkRmlsZSk7CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwaSgicG9zdEF2YXRhclByb2ZpbGVBcGkiLCB7CiAgICAgICAgYXZhdGFyOiBmZCwKICAgICAgICBhY2NvdW50SWQ6IHRoaXMuYWNjSWQsCiAgICAgIH0pOwogICAgICB0aGlzLlNFVF9MT0FESU5HKHRydWUpOwogICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgib3ZlcnZpZXcvZ2V0UGVyc29uYWxGcm9tQXBpIiwgewogICAgICAgICAgYWNjb3VudElkOiB0aGlzLmFjY0lkLAogICAgICAgIH0pOwogICAgICAgIHRoaXMuU0VUX0xPQURJTkcoZmFsc2UpOwogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICBncm91cDogImZvbyIsCiAgICAgICAgICB0aXRsZTogIlVwbG9hZCBBdmF0YXIiLAogICAgICAgICAgdGV4dDogIlN1Y2Nlc3NmdWxseSBVcGxvYWQgQXZhdGFyIiwKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/components/LeftSideProfile","sourcesContent":["<template>\n  <div class=\"sideBox\">\n    <div class=\"leftside-avt\">\n      <img :src=\"avatarUser\" alt=\"\" v-if=\"avatarUser !== null\" />\n      <PictureInput\n        class=\"picture-input-avatar\"\n        ref=\"pictureInput\"\n        @change=\"onChange\"\n        accept=\"image/jpeg,image/png,/image/jpg\"\n        size=\"4\"\n        :hideChangeButton=\"true\"\n        :customStrings=\"{\n          drag: 'Upload Image',\n        }\"\n      >\n      </PictureInput>\n\n      <Avatar\n        v-if=\"avatarUser === null\"\n        class=\"vue-avt\"\n        :username=\"fullname\"\n      ></Avatar>\n      <div class=\"bg-upload-avt\">\n        <CameraIcon class=\"icon-upload\" />\n      </div>\n    </div>\n    <div class=\"boxTitle\">\n      <div class=\"full-name-leftside\" v-tooltip.bottom=\"fullname\">{{ fullname }}</div>\n      <p>{{ position }}</p>\n    </div>\n    <div class=\"boxSkill\">\n      <div class=\"title-skills\">Main Skills</div>\n      <div class=\"boxItem mb-10\">\n        <ChipCardSkill\n          v-for=\"(item, index) of listSkills\"\n          :key=\"index\"\n          :item=\"item\"\n          :isHeight=\"true\"\n        ></ChipCardSkill>\n      </div>\n    </div>\n    <div class=\"boxSkill\">\n      <div class=\"title-skills\">Hobby</div>\n      <div class=\"boxItem\">\n        <HobbyCard></HobbyCard>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport api from \"@/api/api\";\nimport { mapGetters, mapMutations } from \"vuex\";\nimport ChipCardSkill from \"./ChipCardSkill.vue\";\nimport HobbyCard from \"./HobbyCard.vue\";\nimport PictureInput from \"vue-picture-input\";\n\nexport default {\n  components: {\n    ChipCardSkill,\n    HobbyCard,\n    PictureInput,\n  },\n  props: [\"id\"],\n  data() {\n    return {\n      accId: null,\n      selectedFile: \"\",\n      listSkills: [],\n      avatarUser: \"\",\n      fullname: \"\",\n      position: \"\",\n      formatPosition: {\n        1: \"Position 1\",\n        2: \"Position 2\",\n        3: \"Position 3\",\n        4: \"Position 4\",\n        10: \"Position 5\",\n      },\n    };\n  },\n  watch: {\n    getPersonalProfile: {\n      handler: function (val) {\n        if (val) {\n          this.bindingFullname();\n        }\n      },\n    },\n    $route: {\n      handler: async function (to) {\n        this.accId = to.params.id;\n        const res = await this.$store.dispatch(\"overview/getPersonalFromApi\", {\n          accountId: to.params.id,\n        });\n        if (res) {\n          // this.$router.push({ name: \"over-view\" });\n        } else {\n          this.$router.push({ name: \"NotFoundAccountId\" });\n        }\n      },\n      immediate: true,\n    },\n  },\n  async created() {},\n  computed: {\n    ...mapGetters(\"overview\", [\"getPersonalProfile\"]),\n    isStatusActive() {\n      return this.user.status === \"Active\";\n    },\n    hasAvatar() {\n      return this.user.avatar !== \"\";\n    },\n  },\n  methods: {\n    ...mapMutations(\"loading\", [\"SET_LOADING\"]),\n    bindingFullname() {\n      this.fullname = this.getPersonalProfile.fullname;\n      this.position = this.formatPosition[this.getPersonalProfile.positionId];\n      this.avatarUser = this.getPersonalProfile.avatar;\n      this.listSkills = this.getPersonalProfile.mainSkills;\n    },\n\n    async onChange() {\n      if (this.$refs.pictureInput.file) {\n        this.selectedFile = this.$refs.pictureInput.file;\n      } else {\n        console.log(\"Old browser. No support for Filereader API\");\n        this.selectedFile = \"\";\n      }\n      const fd = new FormData();\n      fd.append(\"avatar\", this.selectedFile);\n      const res = await api(\"postAvatarProfileApi\", {\n        avatar: fd,\n        accountId: this.accId,\n      });\n      this.SET_LOADING(true);\n      if (res.success) {\n        await this.$store.dispatch(\"overview/getPersonalFromApi\", {\n          accountId: this.accId,\n        });\n        this.SET_LOADING(false);\n        this.$notify({\n          group: \"foo\",\n          title: \"Upload Avatar\",\n          text: \"Successfully Upload Avatar\",\n          type: \"success\",\n        });\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.vue-avt {\n  width: 100% !important;\n  height: 100% !important;\n  font: 90px / 50px Helvetica, Arial, sans-serif !important;\n  @apply inset-0 absolute;\n}\n.icon-upload {\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 70px;\n  height: 70px;\n  transition: 0.2s linear;\n  z-index: 9;\n  color: #fff;\n  @apply absolute;\n}\n.full-name-leftside {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n// .full-name-leftside:hover {\n//   overflow: visible;\n// }\n.boxSkill {\n  .title-skills {\n    @apply text-xl w-full font-medium ml-1 mb-2;\n  }\n  .boxItem {\n    @apply flex justify-center flex-wrap w-full;\n  }\n  @apply w-full mt-4 relative;\n}\n.sideBox {\n  width: 19%;\n  min-width: 220px;\n  @apply p-4 mr-6 mt-4 block relative;\n}\n.leftside-avt {\n  border-radius: 50%;\n  height: 280px;\n  @apply relative overflow-hidden cursor-pointer w-full;\n}\n.bg-upload-avt {\n  content: \"\";\n  background-color: #00000040;\n  z-index: 0;\n  opacity: 0;\n  transition: 0.2s linear;\n  @apply absolute inset-0;\n}\n.leftside-avt:hover .bg-upload-avt {\n  opacity: 1;\n}\n.leftside-avt img {\n  width: 100%;\n  min-height: 100%;\n  object-fit: cover;\n}\n.picture-input-avatar {\n  opacity: 0;\n  z-index: 1;\n  @apply absolute inset-0;\n}\n.boxTitle {\n  div {\n    font-weight: 500;\n    @apply text-3xl;\n  }\n  p {\n    font-style: italic;\n    font-weight: 600;\n\n    @apply text-base my-2 font-normal;\n  }\n  width: 100%;\n  text-align: center;\n  border-bottom: 1px solid rgba(gray, 0.4);\n  @apply mt-4;\n}\n.btn-save-avt {\n  z-index: 10002;\n  top: 260px;\n  right: 20px;\n  @apply absolute;\n  .feather {\n    width: 34px;\n    height: 34px;\n    @apply text-green-600;\n  }\n}\n.btn-cancel-avt {\n  z-index: 10002;\n  top: 20px;\n  right: 20px;\n  @apply absolute;\n  .feather {\n    width: 36px;\n    height: 36px;\n    @apply text-red-600;\n  }\n}\n.preview-container::before {\n  content: \"\";\n  width: 20px;\n  height: 20px;\n  @apply absolute;\n}\n@media (max-width: 1650px) {\n  .leftside-avt {\n    height: 200px;\n  }\n}\n</style>\n<style lang=\"scss\">\n.picture-inner-text {\n  color: #fff;\n}\n.picture-preview {\n  background-color: #00000040 !important;\n}\n.preview-container {\n  @apply relative;\n}\n</style>\n"]}]}